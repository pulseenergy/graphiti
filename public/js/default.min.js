/*
 GNU Lesser General Public License, http://www.gnu.org/copyleft/lesser.html
 @author  Jan Odvarko, http://odvarko.cz
 @created 2008-06-15
 @updated 2011-07-28
 @link    http://jscolor.com
*/
(function(g,e){function b(a,c,f){if(f===e&&1===a.nodeType)if(f="data-"+c.replace(Qa,"-$1").toLowerCase(),f=a.getAttribute(f),"string"===typeof f){try{f="true"===f?!0:"false"===f?!1:"null"===f?null:!d.isNaN(f)?parseFloat(f):Ra.test(f)?d.parseJSON(f):f}catch(i){}d.data(a,c,f)}else f=e;return f}function j(a){for(var c in a)if("toJSON"!==c)return!1;return!0}function k(a,c,f){var i=c+"defer",m=c+"queue",t=c+"mark",b=d.data(a,i,e,!0);b&&("queue"===f||!d.data(a,m,e,!0))&&("mark"===f||!d.data(a,t,e,!0))&&
setTimeout(function(){!d.data(a,m,e,!0)&&!d.data(a,t,e,!0)&&(d.removeData(a,i,!0),b.resolve())},0)}function q(){return!1}function o(){return!0}function w(a,c,f){var i=d.extend({},f[0]);i.type=a;i.originalEvent={};i.liveFired=e;d.event.handle.call(c,i);i.isDefaultPrevented()&&f[0].preventDefault()}function B(a){var c,f,i,m,t,b,h,e,l,g,j,n=[];m=[];t=d._data(this,"events");if(!(a.liveFired===this||!t||!t.live||a.target.disabled||a.button&&"click"===a.type)){a.namespace&&(j=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+
"(\\.|$)"));a.liveFired=this;var k=t.live.slice(0);for(h=0;h<k.length;h++)t=k[h],t.origType.replace(ga,"")===a.type?m.push(t.selector):k.splice(h--,1);m=d(a.target).closest(m,a.currentTarget);e=0;for(l=m.length;e<l;e++){g=m[e];for(h=0;h<k.length;h++)if(t=k[h],g.selector===t.selector&&(!j||j.test(t.namespace))&&!g.elem.disabled){b=g.elem;i=null;if("mouseenter"===t.preType||"mouseleave"===t.preType)a.type=t.preType,(i=d(a.relatedTarget).closest(t.selector)[0])&&d.contains(b,i)&&(i=b);(!i||i!==b)&&n.push({elem:b,
handleObj:t,level:g.level})}}e=0;for(l=n.length;e<l;e++){m=n[e];if(f&&m.level>f)break;a.currentTarget=m.elem;a.data=m.handleObj.data;a.handleObj=m.handleObj;j=m.handleObj.origHandler.apply(m.elem,arguments);if(!1===j||a.isPropagationStopped())if(f=m.level,!1===j&&(c=!1),a.isImmediatePropagationStopped())break}return c}}function z(a,c){return(a&&"*"!==a?a+".":"")+c.replace(Sa,"`").replace(Ta,"&")}function A(a,c,f){c=c||0;if(d.isFunction(c))return d.grep(a,function(a,d){return!!c.call(a,d,a)===f});
if(c.nodeType)return d.grep(a,function(a){return a===c===f});if("string"===typeof c){var i=d.grep(a,function(a){return 1===a.nodeType});if(Ua.test(c))return d.filter(c,i,!f);c=d.filter(c,i)}return d.grep(a,function(a){return 0<=d.inArray(a,c)===f})}function u(a,c){if(1===c.nodeType&&d.hasData(a)){var f=d.expando,i=d.data(a),m=d.data(c,i);if(i=i[f]){var t=i.events,m=m[f]=d.extend({},i);if(t){delete m.handle;m.events={};for(var b in t){f=0;for(i=t[b].length;f<i;f++)d.event.add(c,b+(t[b][f].namespace?
".":"")+t[b][f].namespace,t[b][f],t[b][f].data)}}}}}function r(a,c){var f;if(1===c.nodeType){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);f=c.nodeName.toLowerCase();if("object"===f)c.outerHTML=a.outerHTML;else if("input"===f&&("checkbox"===a.type||"radio"===a.type)){if(a.checked&&(c.defaultChecked=c.checked=a.checked),c.value!==a.value)c.value=a.value}else if("option"===f)c.selected=a.defaultSelected;else if("input"===f||"textarea"===f)c.defaultValue=a.defaultValue;
c.removeAttribute(d.expando)}}function x(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function H(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function h(a){d.nodeName(a,"input")?H(a):"getElementsByTagName"in a&&d.grep(a.getElementsByTagName("input"),H)}function l(a,c){c.src?d.ajax({url:c.src,async:!1,dataType:"script"}):d.globalEval((c.text||c.textContent||c.innerHTML||"").replace(Va,"/*$0*/"));c.parentNode&&
c.parentNode.removeChild(c)}function n(a,c,f){var i="width"===c?a.offsetWidth:a.offsetHeight,m="width"===c?Wa:Xa;if(0<i)return"border"!==f&&d.each(m,function(){f||(i-=parseFloat(d.css(a,"padding"+this))||0);i="margin"===f?i+(parseFloat(d.css(a,f+this))||0):i-(parseFloat(d.css(a,"border"+this+"Width"))||0)}),i+"px";i=S(a,c,c);if(0>i||null==i)i=a.style[c]||0;i=parseFloat(i)||0;f&&d.each(m,function(){i+=parseFloat(d.css(a,"padding"+this))||0;"padding"!==f&&(i+=parseFloat(d.css(a,"border"+this+"Width"))||
0);"margin"===f&&(i+=parseFloat(d.css(a,f+this))||0)});return i+"px"}function y(a){return function(c,f){"string"!==typeof c&&(f=c,c="*");if(d.isFunction(f))for(var i=c.toLowerCase().split(sa),m=0,t=i.length,b,h;m<t;m++)b=i[m],(h=/^\+/.test(b))&&(b=b.substr(1)||"*"),b=a[b]=a[b]||[],b[h?"unshift":"push"](f)}}function F(a,c,d,i,m,t){m=m||c.dataTypes[0];t=t||{};t[m]=!0;for(var m=a[m],b=0,h=m?m.length:0,l=a===ha,g;b<h&&(l||!g);b++)g=m[b](c,d,i),"string"===typeof g&&(!l||t[g]?g=e:(c.dataTypes.unshift(g),
g=F(a,c,d,i,g,t)));if((l||!g)&&!t["*"])g=F(a,c,d,i,"*",t);return g}function G(a,c){var f,i,m=d.ajaxSettings.flatOptions||{};for(f in c)c[f]!==e&&((m[f]?a:i||(i={}))[f]=c[f]);i&&d.extend(!0,a,i)}function N(a,c,f,i){if(d.isArray(c))d.each(c,function(c,m){f||Ya.test(a)?i(a,m):N(a+"["+("object"===typeof m||d.isArray(m)?c:"")+"]",m,f,i)});else if(!f&&null!=c&&"object"===typeof c)for(var m in c)N(a+"["+m+"]",c[m],f,i);else i(a,c)}function I(){try{return new g.XMLHttpRequest}catch(a){}}function v(){setTimeout(C,
0);return ba=d.now()}function C(){ba=e}function D(a,c){var f={};d.each(ta.concat.apply([],ta.slice(0,c)),function(){f[this]=a});return f}function T(a){if(!ia[a]){var c=s.body,f=d("<"+a+">").appendTo(c),i=f.css("display");f.remove();if("none"===i||""===i){K||(K=s.createElement("iframe"),K.frameBorder=K.width=K.height=0);c.appendChild(K);if(!U||!K.createElement)U=(K.contentWindow||K.contentDocument).document,U.write(("CSS1Compat"===s.compatMode?"<!doctype html>":"")+"<html><body>"),U.close();f=U.createElement(a);
U.body.appendChild(f);i=d.css(f,"display");c.removeChild(K)}ia[a]=i}return ia[a]}function p(a){return d.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var s=g.document,L=g.navigator,ja=g.location,d=function(){function a(){if(!c.isReady){try{s.documentElement.doScroll("left")}catch(d){setTimeout(a,1);return}c.ready()}}var c=function(a,d){return new c.fn.init(a,d,m)},d=g.jQuery,i=g.$,m,t=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,b=/\S/,h=/^\s+/,l=/\s+$/,j=/\d/,n=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
k=/^[\],:{}\s]*$/,v=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,p=/(?:^|:|,)(?:\s*\[)+/g,y=/(webkit)[ \/]([\w.]+)/,q=/(opera)(?:.*version)?[ \/]([\w.]+)/,r=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,X=/-([a-z]|[0-9])/ig,Za=/^-ms-/,$a=function(a,c){return(c+"").toUpperCase()},Y=L.userAgent,ca,V,ab=Object.prototype.toString,ka=Object.prototype.hasOwnProperty,D=Array.prototype.push,A=Array.prototype.slice,F=String.prototype.trim,
u=Array.prototype.indexOf,G={};c.fn=c.prototype={constructor:c,init:function(a,d,f){var i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!d&&s.body)return this.context=s,this[0]=s.body,this.selector=a,this.length=1,this;if("string"===typeof a){if((i="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:t.exec(a))&&(i[1]||!d)){if(i[1])return f=(d=d instanceof c?d[0]:d)?d.ownerDocument||d:s,(a=n.exec(a))?c.isPlainObject(d)?(a=[s.createElement(a[1])],
c.fn.attr.call(a,d,!0)):a=[f.createElement(a[1])]:(a=c.buildFragment([i[1]],[f]),a=(a.cacheable?c.clone(a.fragment):a.fragment).childNodes),c.merge(this,a);if((d=s.getElementById(i[2]))&&d.parentNode){if(d.id!==i[2])return f.find(a);this.length=1;this[0]=d}this.context=s;this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(c.isFunction(a))return f.ready(a);a.selector!==e&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)},selector:"",
jquery:"1.6.4",length:0,size:function(){return this.length},toArray:function(){return A.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,d,f){var i=this.constructor();c.isArray(a)?D.apply(i,a):c.merge(i,a);i.prevObject=this;i.context=this.context;"find"===d?i.selector=this.selector+(this.selector?" ":"")+f:d&&(i.selector=this.selector+"."+d+"("+f+")");return i},each:function(a,d){return c.each(this,a,d)},ready:function(a){c.bindReady();
ca.done(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(A.apply(this,arguments),"slice",A.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(c,d){return a.call(c,d,c)}))},end:function(){return this.prevObject||this.constructor(null)},push:D,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,
d,f,i,m,b=arguments[0]||{},t=1,h=arguments.length,X=!1;"boolean"===typeof b&&(X=b,b=arguments[1]||{},t=2);"object"!==typeof b&&!c.isFunction(b)&&(b={});h===t&&(b=this,--t);for(;t<h;t++)if(null!=(a=arguments[t]))for(d in a)f=b[d],i=a[d],b!==i&&(X&&i&&(c.isPlainObject(i)||(m=c.isArray(i)))?(m?(m=!1,f=f&&c.isArray(f)?f:[]):f=f&&c.isPlainObject(f)?f:{},b[d]=c.extend(X,f,i)):i!==e&&(b[d]=i));return b};c.extend({noConflict:function(a){g.$===c&&(g.$=i);a&&g.jQuery===c&&(g.jQuery=d);return c},isReady:!1,
readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(!0===a&&!--c.readyWait||!0!==a&&!c.isReady){if(!s.body)return setTimeout(c.ready,1);c.isReady=!0;!0!==a&&0<--c.readyWait||(ca.resolveWith(s,[c]),c.fn.trigger&&c(s).trigger("ready").unbind("ready"))}},bindReady:function(){if(!ca){ca=c._Deferred();if("complete"===s.readyState)return setTimeout(c.ready,1);if(s.addEventListener)s.addEventListener("DOMContentLoaded",V,!1),g.addEventListener("load",c.ready,!1);else if(s.attachEvent){s.attachEvent("onreadystatechange",
V);g.attachEvent("onload",c.ready);var d=!1;try{d=null==g.frameElement}catch(f){}s.documentElement.doScroll&&d&&a()}}},isFunction:function(a){return"function"===c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},isWindow:function(a){return a&&"object"===typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!j.test(a)||isNaN(a)},type:function(a){return null==a?""+a:G[ab.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;
try{if(a.constructor&&!ka.call(a,"constructor")&&!ka.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var f in a);return f===e||ka.call(a,f)},isEmptyObject:function(a){for(var c in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if("string"!==typeof a||!a)return null;a=c.trim(a);if(g.JSON&&g.JSON.parse)return g.JSON.parse(a);if(k.test(a.replace(v,"@").replace(o,"]").replace(p,"")))return(new Function("return "+a))();c.error("Invalid JSON: "+a)},parseXML:function(a){var d,
f;try{g.DOMParser?(f=new DOMParser,d=f.parseFromString(a,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a))}catch(i){d=e}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+a);return d},noop:function(){},globalEval:function(a){a&&b.test(a)&&(g.execScript||function(a){g.eval.call(g,a)})(a)},camelCase:function(a){return a.replace(Za,"ms-").replace(X,$a)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toUpperCase()===
c.toUpperCase()},each:function(a,d,f){var i,m=0,b=a.length,t=b===e||c.isFunction(a);if(f)if(t)for(i in a){if(!1===d.apply(a[i],f))break}else for(;m<b&&!1!==d.apply(a[m++],f););else if(t)for(i in a){if(!1===d.call(a[i],i,a[i]))break}else for(;m<b&&!1!==d.call(a[m],m,a[m++]););return a},trim:F?function(a){return null==a?"":F.call(a)}:function(a){return null==a?"":a.toString().replace(h,"").replace(l,"")},makeArray:function(a,d){var f=d||[];if(null!=a){var i=c.type(a);null==a.length||"string"===i||"function"===
i||"regexp"===i||c.isWindow(a)?D.call(f,a):c.merge(f,a)}return f},inArray:function(a,c){if(!c)return-1;if(u)return u.call(c,a);for(var d=0,f=c.length;d<f;d++)if(c[d]===a)return d;return-1},merge:function(a,c){var d=a.length,f=0;if("number"===typeof c.length)for(var i=c.length;f<i;f++)a[d++]=c[f];else for(;c[f]!==e;)a[d++]=c[f++];a.length=d;return a},grep:function(a,c,d){for(var f=[],i,d=!!d,m=0,b=a.length;m<b;m++)i=!!c(a[m],m),d!==i&&f.push(a[m]);return f},map:function(a,d,f){var i,m,b=[],t=0,h=a.length;
if(a instanceof c||h!==e&&"number"===typeof h&&(0<h&&a[0]&&a[h-1]||0===h||c.isArray(a)))for(;t<h;t++)i=d(a[t],t,f),null!=i&&(b[b.length]=i);else for(m in a)i=d(a[m],m,f),null!=i&&(b[b.length]=i);return b.concat.apply([],b)},guid:1,proxy:function(a,d){if("string"===typeof d)var f=a[d],d=a,a=f;if(!c.isFunction(a))return e;var i=A.call(arguments,2),f=function(){return a.apply(d,i.concat(A.call(arguments)))};f.guid=a.guid=a.guid||f.guid||c.guid++;return f},access:function(a,d,f,i,m,b){var t=a.length;
if("object"===typeof d){for(var h in d)c.access(a,h,d[h],i,m,f);return a}if(f!==e){i=!b&&i&&c.isFunction(f);for(h=0;h<t;h++)m(a[h],d,i?f.call(a[h],h,m(a[h],d)):f,b);return a}return t?m(a[0],d):e},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=y.exec(a)||q.exec(a)||r.exec(a)||0>a.indexOf("compatible")&&C.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(c,d){return new a.fn.init(c,d)}c.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=
this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(f,i){i&&i instanceof c&&!(i instanceof a)&&(i=a(i));return c.fn.init.call(this,f,i,d)};a.fn.init.prototype=a.fn;var d=a(s);return a},browser:{}});c.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(a,c){G["[object "+c+"]"]=c.toLowerCase()});Y=c.uaMatch(Y);Y.browser&&(c.browser[Y.browser]=!0,c.browser.version=Y.version);c.browser.webkit&&(c.browser.safari=!0);b.test("\u00a0")&&(h=/^[\s\xA0]+/,l=/[\s\xA0]+$/);
m=c(s);s.addEventListener?V=function(){s.removeEventListener("DOMContentLoaded",V,false);c.ready()}:s.attachEvent&&(V=function(){if(s.readyState==="complete"){s.detachEvent("onreadystatechange",V);c.ready()}});return c}(),la="done,fail,isResolved,isRejected,promise,then,always,pipe".split(","),ua=[].slice;d.extend({_Deferred:function(){var a=[],c,f,i,m={done:function(){if(!i){var f=arguments,b,h,e,l,g;c&&(g=c,c=0);b=0;for(h=f.length;b<h;b++)e=f[b],l=d.type(e),"array"===l?m.done.apply(m,e):"function"===
l&&a.push(e);g&&m.resolveWith(g[0],g[1])}return this},resolveWith:function(d,m){if(!i&&!c&&!f){m=m||[];f=1;try{for(;a[0];)a.shift().apply(d,m)}finally{c=[d,m],f=0}}return this},resolve:function(){m.resolveWith(this,arguments);return this},isResolved:function(){return!(!f&&!c)},cancel:function(){i=1;a=[];return this}};return m},Deferred:function(a){var c=d._Deferred(),f=d._Deferred(),i;d.extend(c,{then:function(a,d){c.done(a).fail(d);return this},always:function(){return c.done.apply(c,arguments).fail.apply(this,
arguments)},fail:f.done,rejectWith:f.resolveWith,reject:f.resolve,isRejected:f.isResolved,pipe:function(a,f){return d.Deferred(function(i){d.each({done:[a,"resolve"],fail:[f,"reject"]},function(a,f){var m=f[0],b=f[1],t;if(d.isFunction(m))c[a](function(){if((t=m.apply(this,arguments))&&d.isFunction(t.promise))t.promise().then(i.resolve,i.reject);else i[b+"With"](this===c?i:this,[t])});else c[a](i[b])})}).promise()},promise:function(a){if(null==a){if(i)return i;i=a={}}for(var d=la.length;d--;)a[la[d]]=
c[la[d]];return a}});c.done(f.cancel).fail(c.cancel);delete c.cancel;a&&a.call(c,c);return c},when:function(a){function c(a){return function(c){f[a]=1<arguments.length?ua.call(arguments,0):c;--b||h.resolveWith(h,ua.call(f,0))}}var f=arguments,i=0,m=f.length,b=m,h=1>=m&&a&&d.isFunction(a.promise)?a:d.Deferred();if(1<m){for(;i<m;i++)f[i]&&d.isFunction(f[i].promise)?f[i].promise().then(c(i),h.reject):--b;b||h.resolveWith(h,f)}else h!==a&&h.resolveWith(h,m?[a]:[]);return h.promise()}});d.support=function(){var a=
s.createElement("div"),c=s.documentElement,f,i,m,b,h,e;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";f=a.getElementsByTagName("*");i=a.getElementsByTagName("a")[0];if(!f||!f.length||!i)return{};m=s.createElement("select");b=m.appendChild(s.createElement("option"));f=a.getElementsByTagName("input")[0];h={leadingWhitespace:3===a.firstChild.nodeType,tbody:!a.getElementsByTagName("tbody").length,
htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55$/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===f.value,optSelected:b.selected,getSetAttribute:"t"!==a.className,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};f.checked=!0;h.noCloneChecked=f.cloneNode(!0).checked;m.disabled=
!0;h.optDisabled=!b.disabled;try{delete a.test}catch(l){h.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){h.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));f=s.createElement("input");f.value="t";f.setAttribute("type","radio");h.radioValue="t"===f.value;f.setAttribute("checked","checked");a.appendChild(f);i=s.createDocumentFragment();i.appendChild(a.firstChild);h.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";
a.style.width=a.style.paddingLeft="1px";m=s.getElementsByTagName("body")[0];i=s.createElement(m?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};m&&d.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(e in b)i.style[e]=b[e];i.appendChild(a);c=m||c;c.insertBefore(i,c.firstChild);h.appendChecked=f.checked;h.boxModel=2===a.offsetWidth;"zoom"in a.style&&(a.style.display="inline",a.style.zoom=1,h.inlineBlockNeedsLayout=2===a.offsetWidth,a.style.display=
"",a.innerHTML="<div style='width:4px;'></div>",h.shrinkWrapBlocks=2!==a.offsetWidth);a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";m=a.getElementsByTagName("td");f=0===m[0].offsetHeight;m[0].style.display="";m[1].style.display="none";h.reliableHiddenOffsets=f&&0===m[0].offsetHeight;a.innerHTML="";s.defaultView&&s.defaultView.getComputedStyle&&(f=s.createElement("div"),f.style.width="0",f.style.marginRight="0",a.appendChild(f),h.reliableMarginRight=
0===(parseInt((s.defaultView.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0));i.innerHTML="";c.removeChild(i);if(a.attachEvent)for(e in{submit:1,change:1,focusin:1})c="on"+e,f=c in a,f||(a.setAttribute(c,"return;"),f="function"===typeof a[c]),h[e+"Bubbles"]=f;i=i=m=b=m=f=a=f=null;return h}();d.boxModel=d.support.boxModel;var Ra=/^(?:\{.*\}|\[.*\])$/,Qa=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:!0},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!j(a)},data:function(a,c,f,i){if(d.acceptData(a)){var m=d.expando,b="string"===typeof c,h=a.nodeType,l=h?d.cache:a,g=h?a[d.expando]:a[d.expando]&&d.expando;if(g&&(!i||!g||!l[g]||l[g][m])||!(b&&f===e)){g||(h?a[d.expando]=g=++d.uuid:g=d.expando);l[g]||(l[g]={},h||(l[g].toJSON=d.noop));if("object"===typeof c||"function"===typeof c)i?l[g][m]=d.extend(l[g][m],c):l[g]=d.extend(l[g],c);a=l[g];i&&(a[m]||(a[m]={}),a=
a[m]);f!==e&&(a[d.camelCase(c)]=f);if("events"===c&&!a[c])return a[m]&&a[m].events;b?(f=a[c],null==f&&(f=a[d.camelCase(c)])):f=a;return f}}},removeData:function(a,c,f){if(d.acceptData(a)){var i,m=d.expando,b=a.nodeType,h=b?d.cache:a,e=b?a[d.expando]:d.expando;if(h[e]){if(c&&(i=f?h[e][m]:h[e]))if(i[c]||(c=d.camelCase(c)),delete i[c],!j(i))return;if(f&&(delete h[e][m],!j(h[e])))return;c=h[e][m];d.support.deleteExpando||!h.setInterval?delete h[e]:h[e]=null;c?(h[e]={},b||(h[e].toJSON=d.noop),h[e][m]=
c):b&&(d.support.deleteExpando?delete a[d.expando]:a.removeAttribute?a.removeAttribute(d.expando):a[d.expando]=null)}}},_data:function(a,c,f){return d.data(a,c,f,!0)},acceptData:function(a){if(a.nodeName){var c=d.noData[a.nodeName.toLowerCase()];if(c)return!(!0===c||a.getAttribute("classid")!==c)}return!0}});d.fn.extend({data:function(a,c){var f=null;if("undefined"===typeof a){if(this.length&&(f=d.data(this[0]),1===this[0].nodeType))for(var i=this[0].attributes,m,h=0,l=i.length;h<l;h++)m=i[h].name,
0===m.indexOf("data-")&&(m=d.camelCase(m.substring(5)),b(this[0],m,f[m]));return f}if("object"===typeof a)return this.each(function(){d.data(this,a)});var g=a.split(".");g[1]=g[1]?"."+g[1]:"";return c===e?(f=this.triggerHandler("getData"+g[1]+"!",[g[0]]),f===e&&this.length&&(f=d.data(this[0],a),f=b(this[0],a,f)),f===e&&g[1]?this.data(g[0]):f):this.each(function(){var f=d(this),i=[g[0],c];f.triggerHandler("setData"+g[1]+"!",i);d.data(this,a,c);f.triggerHandler("changeData"+g[1]+"!",i)})},removeData:function(a){return this.each(function(){d.removeData(this,
a)})}});d.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",d.data(a,c,(d.data(a,c,e,!0)||0)+1,!0))},_unmark:function(a,c,f){!0!==a&&(f=c,c=a,a=!1);if(c){var f=f||"fx",i=f+"mark";(a=a?0:(d.data(c,i,e,!0)||1)-1)?d.data(c,i,a,!0):(d.removeData(c,i,!0),k(c,f,"mark"))}},queue:function(a,c,f){if(a){var c=(c||"fx")+"queue",i=d.data(a,c,e,!0);f&&(!i||d.isArray(f)?i=d.data(a,c,d.makeArray(f),!0):i.push(f));return i||[]}},dequeue:function(a,c){var c=c||"fx",f=d.queue(a,c),i=f.shift();"inprogress"===i&&(i=
f.shift());i&&("fx"===c&&f.unshift("inprogress"),i.call(a,function(){d.dequeue(a,c)}));f.length||(d.removeData(a,c+"queue",!0),k(a,c,"queue"))}});d.fn.extend({queue:function(a,c){"string"!==typeof a&&(c=a,a="fx");return c===e?d.queue(this[0],a):this.each(function(){var f=d.queue(this,a,c);a==="fx"&&f[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,c){a=d.fx?d.fx.speeds[a]||a:a;c=c||"fx";return this.queue(c,function(){var f=
this;setTimeout(function(){d.dequeue(f,c)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function c(){--b||f.resolveWith(i,[i])}"string"!==typeof a&&(a=e);for(var a=a||"fx",f=d.Deferred(),i=this,m=i.length,b=1,h=a+"defer",l=a+"queue",a=a+"mark",g;m--;)if(g=d.data(i[m],h,e,!0)||(d.data(i[m],l,e,!0)||d.data(i[m],a,e,!0))&&d.data(i[m],h,d._Deferred(),!0))b++,g.done(c);c();return f.promise()}});var va=/[\n\t\r]/g,ma=/\s+/,bb=/\r/g,cb=/^(?:button|input)$/i,db=/^(?:button|input|object|select|textarea)$/i,
eb=/^a(?:rea)?$/i,wa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,J,xa;d.fn.extend({attr:function(a,c){return d.access(this,a,c,!0,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,c){return d.access(this,a,c,!0,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=e,delete this[a]}catch(c){}})},addClass:function(a){var c,f,i,m,b,h,
e;if(d.isFunction(a))return this.each(function(c){d(this).addClass(a.call(this,c,this.className))});if(a&&"string"===typeof a){c=a.split(ma);f=0;for(i=this.length;f<i;f++)if(m=this[f],1===m.nodeType)if(!m.className&&1===c.length)m.className=a;else{b=" "+m.className+" ";h=0;for(e=c.length;h<e;h++)~b.indexOf(" "+c[h]+" ")||(b+=c[h]+" ");m.className=d.trim(b)}}return this},removeClass:function(a){var c,f,i,m,b,h,l;if(d.isFunction(a))return this.each(function(c){d(this).removeClass(a.call(this,c,this.className))});
if(a&&"string"===typeof a||a===e){c=(a||"").split(ma);f=0;for(i=this.length;f<i;f++)if(m=this[f],1===m.nodeType&&m.className)if(a){b=(" "+m.className+" ").replace(va," ");h=0;for(l=c.length;h<l;h++)b=b.replace(" "+c[h]+" "," ");m.className=d.trim(b)}else m.className=""}return this},toggleClass:function(a,c){var f=typeof a,i="boolean"===typeof c;return d.isFunction(a)?this.each(function(f){d(this).toggleClass(a.call(this,f,this.className,c),c)}):this.each(function(){if("string"===f)for(var m,b=0,h=
d(this),e=c,l=a.split(ma);m=l[b++];)e=i?e:!h.hasClass(m),h[e?"addClass":"removeClass"](m);else if("undefined"===f||"boolean"===f)this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===a?"":d._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&-1<(" "+this[c].className+" ").replace(va," ").indexOf(a))return!0;return!1},val:function(a){var c,f,i=this[0];if(!arguments.length){if(i){if((c=
d.valHooks[i.nodeName.toLowerCase()]||d.valHooks[i.type])&&"get"in c&&(f=c.get(i,"value"))!==e)return f;f=i.value;return"string"===typeof f?f.replace(bb,""):null==f?"":f}return e}var m=d.isFunction(a);return this.each(function(f){var i=d(this);if(1===this.nodeType&&(f=m?a.call(this,f,i.val()):a,null==f?f="":"number"===typeof f?f+="":d.isArray(f)&&(f=d.map(f,function(a){return a==null?"":a+""})),c=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type],!c||!("set"in c)||c.set(this,f,"value")===
e))this.value=f})}});d.extend({valHooks:{option:{get:function(a){var c=a.attributes.value;return!c||c.specified?a.value:a.text}},select:{get:function(a){var c,f=a.selectedIndex,i=[],m=a.options,a="select-one"===a.type;if(0>f)return null;for(var b=a?f:0,h=a?f+1:m.length;b<h;b++)if(c=m[b],c.selected&&(d.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!d.nodeName(c.parentNode,"optgroup"))){c=d(c).val();if(a)return c;i.push(c)}return a&&!i.length&&m.length?
d(m[f]).val():i},set:function(a,c){var f=d.makeArray(c);d(a).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),f)});f.length||(a.selectedIndex=-1);return f}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,c,f,i){var m=a.nodeType;if(!a||3===m||8===m||2===m)return e;if(i&&c in d.attrFn)return d(a)[c](f);if(!("getAttribute"in a))return d.prop(a,c,f);var b,h;if(i=1!==m||!d.isXMLDoc(a))c=d.attrFix[c]||c,(h=
d.attrHooks[c])||(wa.test(c)?h=xa:J&&(h=J));if(f!==e){if(null===f)return d.removeAttr(a,c),e;if(h&&"set"in h&&i&&(b=h.set(a,f,c))!==e)return b;a.setAttribute(c,""+f);return f}if(h&&"get"in h&&i&&null!==(b=h.get(a,c)))return b;b=a.getAttribute(c);return null===b?e:b},removeAttr:function(a,c){var f;if(1===a.nodeType&&(c=d.attrFix[c]||c,d.attr(a,c,""),a.removeAttribute(c),wa.test(c)&&(f=d.propFix[c]||c)in a))a[f]=!1},attrHooks:{type:{set:function(a,c){if(cb.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");
else if(!d.support.radioValue&&"radio"===c&&d.nodeName(a,"input")){var f=a.value;a.setAttribute("type",c);f&&(a.value=f);return c}}},value:{get:function(a,c){return J&&d.nodeName(a,"button")?J.get(a,c):c in a?a.value:null},set:function(a,c,f){if(J&&d.nodeName(a,"button"))return J.set(a,c,f);a.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,f){var i=a.nodeType;if(!a||3===i||8===i||2===i)return e;var m,b;if(1!==i||!d.isXMLDoc(a))c=d.propFix[c]||c,b=d.propHooks[c];return f!==e?b&&"set"in b&&(m=b.set(a,f,c))!==e?m:a[c]=f:b&&"get"in b&&null!==(m=b.get(a,c))?m:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):db.test(a.nodeName)||eb.test(a.nodeName)&&a.href?0:e}}}});d.attrHooks.tabIndex=d.propHooks.tabIndex;
xa={get:function(a,c){var f;return!0===d.prop(a,c)||(f=a.getAttributeNode(c))&&!1!==f.nodeValue?c.toLowerCase():e},set:function(a,c,f){!1===c?d.removeAttr(a,f):(c=d.propFix[f]||f,c in a&&(a[c]=!0),a.setAttribute(f,f.toLowerCase()));return f}};d.support.getSetAttribute||(J=d.valHooks.button={get:function(a,c){var d;return(d=a.getAttributeNode(c))&&""!==d.nodeValue?d.nodeValue:e},set:function(a,c,d){var i=a.getAttributeNode(d);i||(i=s.createAttribute(d),a.setAttributeNode(i));return i.nodeValue=c+""}},
d.each(["width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{set:function(a,d){if(""===d)return a.setAttribute(c,"auto"),d}})}));d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return a===null?e:a}})});d.support.style||(d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||e},set:function(a,c){return a.style.cssText=""+c}});d.support.optSelected||(d.propHooks.selected=
d.extend(d.propHooks.selected,{get:function(a){if(a=a.parentNode){a.selectedIndex;a.parentNode&&a.parentNode.selectedIndex}return null}}));d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,c){if(d.isArray(c))return a.checked=d.inArray(d(a).val(),c)>=0}})});var ga=/\.(.*)$/,na=/^(?:textarea|input|select)$/i,
Sa=/\./g,Ta=/ /g,fb=/[^\w\s.|`]/g,gb=function(a){return a.replace(fb,"\\$&")};d.event={add:function(a,c,f,i){if(!(a.nodeType===3||a.nodeType===8)){if(f===false)f=q;else if(!f)return;var m,b;if(f.handler){m=f;f=m.handler}if(!f.guid)f.guid=d.guid++;if(b=d._data(a)){var h=b.events,l=b.handle;if(!h)b.events=h={};if(!l)b.handle=l=function(a){return typeof d!=="undefined"&&(!a||d.event.triggered!==a.type)?d.event.handle.apply(l.elem,arguments):e};l.elem=a;for(var c=c.split(" "),g,j=0,n;g=c[j++];){b=m?d.extend({},
m):{handler:f,data:i};if(g.indexOf(".")>-1){n=g.split(".");g=n.shift();b.namespace=n.slice(0).sort().join(".")}else{n=[];b.namespace=""}b.type=g;if(!b.guid)b.guid=f.guid;var k=h[g],v=d.event.special[g]||{};if(!k){k=h[g]=[];if(!v.setup||v.setup.call(a,i,n,l)===false)a.addEventListener?a.addEventListener(g,l,false):a.attachEvent&&a.attachEvent("on"+g,l)}if(v.add){v.add.call(a,b);if(!b.handler.guid)b.handler.guid=f.guid}k.push(b);d.event.global[g]=true}a=null}}},global:{},remove:function(a,c,f,i){if(!(a.nodeType===
3||a.nodeType===8)){f===false&&(f=q);var b,h,l=0,g,j,n,k,v,o,p=d.hasData(a)&&d._data(a),s=p&&p.events;if(p&&s){if(c&&c.type){f=c.handler;c=c.type}if(!c||typeof c==="string"&&c.charAt(0)==="."){c=c||"";for(b in s)d.event.remove(a,b+c)}else{for(c=c.split(" ");b=c[l++];){k=b;g=b.indexOf(".")<0;j=[];if(!g){j=b.split(".");b=j.shift();n=RegExp("(^|\\.)"+d.map(j.slice(0).sort(),gb).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(v=s[b])if(f){k=d.event.special[b]||{};for(h=i||0;h<v.length;h++){o=v[h];if(f.guid===o.guid){if(g||
n.test(o.namespace)){i==null&&v.splice(h--,1);k.remove&&k.remove.call(a,o)}if(i!=null)break}}if(v.length===0||i!=null&&v.length===1){(!k.teardown||k.teardown.call(a,j)===false)&&d.removeEvent(a,b,p.handle);delete s[b]}}else for(h=0;h<v.length;h++){o=v[h];if(g||n.test(o.namespace)){d.event.remove(a,k,o.handler,h);v.splice(h--,1)}}}if(d.isEmptyObject(s)){if(c=p.handle)c.elem=null;delete p.events;delete p.handle;d.isEmptyObject(p)&&d.removeData(a,e,true)}}}}},customEvent:{getData:!0,setData:!0,changeData:!0},
trigger:function(a,c,f,i){var b=a.type||a,h=[],l;if(b.indexOf("!")>=0){b=b.slice(0,-1);l=true}if(b.indexOf(".")>=0){h=b.split(".");b=h.shift();h.sort()}if(f&&!d.event.customEvent[b]||d.event.global[b]){a=typeof a==="object"?a[d.expando]?a:new d.Event(b,a):new d.Event(b);a.type=b;a.exclusive=l;a.namespace=h.join(".");a.namespace_re=RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)");if(i||!f){a.preventDefault();a.stopPropagation()}if(f){if(!(f.nodeType===3||f.nodeType===8)){a.result=e;a.target=f;c=
c!=null?d.makeArray(c):[];c.unshift(a);h=f;i=b.indexOf(":")<0?"on"+b:"";do{l=d._data(h,"handle");a.currentTarget=h;l&&l.apply(h,c);if(i&&d.acceptData(h)&&h[i]&&h[i].apply(h,c)===false){a.result=false;a.preventDefault()}h=h.parentNode||h.ownerDocument||h===a.target.ownerDocument&&g}while(h&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var j,h=d.event.special[b]||{};if((!h._default||h._default.call(f.ownerDocument,a)===false)&&!(b==="click"&&d.nodeName(f,"a"))&&d.acceptData(f)){try{if(i&&
f[b]){(j=f[i])&&(f[i]=null);d.event.triggered=b;f[b]()}}catch(n){}j&&(f[i]=j);d.event.triggered=e}}return a.result}}else d.each(d.cache,function(){var f=this[d.expando];f&&f.events&&f.events[b]&&d.event.trigger(a,c,f.handle.elem)})}},handle:function(a){var a=d.event.fix(a||g.event),c=((d._data(this,"events")||{})[a.type]||[]).slice(0),f=!a.exclusive&&!a.namespace,i=Array.prototype.slice.call(arguments,0);i[0]=a;a.currentTarget=this;for(var b=0,h=c.length;b<h;b++){var l=c[b];if(f||a.namespace_re.test(l.namespace)){a.handler=
l.handler;a.data=l.data;a.handleObj=l;l=l.handler.apply(this,i);if(l!==e){a.result=l;if(l===false){a.preventDefault();a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,layerX,layerY,metaKey,newValue,offsetX,offsetY,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(","),
fix:function(a){if(a[d.expando])return a;for(var c=a,a=d.Event(c),f=this.props.length,i;f;){i=this.props[--f];a[i]=c[i]}if(!a.target)a.target=a.srcElement||s;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){f=a.target.ownerDocument||s;c=f.documentElement;f=f.body;a.pageX=a.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0);a.pageY=
a.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==e)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:d.proxy,special:{ready:{setup:d.bindReady,teardown:d.noop},live:{add:function(a){d.event.add(this,z(a.origType,a.selector),d.extend({},a,{handler:B,guid:a.handler.guid}))},remove:function(a){d.event.remove(this,
z(a.origType,a.selector),a)}},beforeunload:{setup:function(a,c,f){if(d.isWindow(this))this.onbeforeunload=f},teardown:function(a,c){if(this.onbeforeunload===c)this.onbeforeunload=null}}}};d.removeEvent=s.removeEventListener?function(a,c,d){a.removeEventListener&&a.removeEventListener(c,d,false)}:function(a,c,d){a.detachEvent&&a.detachEvent("on"+c,d)};d.Event=function(a,c){if(!this.preventDefault)return new d.Event(a,c);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||
a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?o:q}else this.type=a;c&&d.extend(this,c);this.timeStamp=d.now();this[d.expando]=true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=o;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
o;this.stopPropagation()},isDefaultPrevented:q,isPropagationStopped:q,isImmediatePropagationStopped:q};var ya=function(a){var c=a.relatedTarget,f=false,i=a.type;a.type=a.data;if(c!==this){c&&(f=d.contains(this,c));if(!f){d.event.handle.apply(this,arguments);a.type=i}}},za=function(a){a.type=a.data;d.event.handle.apply(this,arguments)};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,c){d.event.special[a]={setup:function(f){d.event.add(this,c,f&&f.selector?za:ya,a)},teardown:function(a){d.event.remove(this,
c,a&&a.selector?za:ya)}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;d.event.add(this,"click.specialSubmit",function(a){var c=a.target,f=d.nodeName(c,"input")||d.nodeName(c,"button")?c.type:"";(f==="submit"||f==="image")&&d(c).closest("form").length&&w("submit",this,arguments)});d.event.add(this,"keypress.specialSubmit",function(a){var c=a.target,f=d.nodeName(c,"input")||d.nodeName(c,"button")?c.type:"";(f==="text"||f==="password")&&
d(c).closest("form").length&&a.keyCode===13&&w("submit",this,arguments)})},teardown:function(){d.event.remove(this,".specialSubmit")}});if(!d.support.changeBubbles){var Z,Aa=function(a){var c=d.nodeName(a,"input")?a.type:"",f=a.value;if(c==="radio"||c==="checkbox")f=a.checked;else if(c==="select-multiple")f=a.selectedIndex>-1?d.map(a.options,function(a){return a.selected}).join("-"):"";else if(d.nodeName(a,"select"))f=a.selectedIndex;return f},da=function(a,c){var f=a.target,i,b;if(na.test(f.nodeName)&&
!f.readOnly){i=d._data(f,"_change_data");b=Aa(f);(a.type!=="focusout"||f.type!=="radio")&&d._data(f,"_change_data",b);if(!(i===e||b===i))if(i!=null||b){a.type="change";a.liveFired=e;d.event.trigger(a,c,f)}}};d.event.special.change={filters:{focusout:da,beforedeactivate:da,click:function(a){var c=a.target,f=d.nodeName(c,"input")?c.type:"";(f==="radio"||f==="checkbox"||d.nodeName(c,"select"))&&da.call(this,a)},keydown:function(a){var c=a.target,f=d.nodeName(c,"input")?c.type:"";(a.keyCode===13&&!d.nodeName(c,
"textarea")||a.keyCode===32&&(f==="checkbox"||f==="radio")||f==="select-multiple")&&da.call(this,a)},beforeactivate:function(a){a=a.target;d._data(a,"_change_data",Aa(a))}},setup:function(){if(this.type==="file")return false;for(var a in Z)d.event.add(this,a+".specialChange",Z[a]);return na.test(this.nodeName)},teardown:function(){d.event.remove(this,".specialChange");return na.test(this.nodeName)}};Z=d.event.special.change.filters;Z.focus=Z.beforeactivate}d.support.focusinBubbles||d.each({focus:"focusin",
blur:"focusout"},function(a,c){function f(a){var f=d.event.fix(a);f.type=c;f.originalEvent={};d.event.trigger(f,null,f.target);f.isDefaultPrevented()&&a.preventDefault()}var i=0;d.event.special[c]={setup:function(){i++===0&&s.addEventListener(a,f,true)},teardown:function(){--i===0&&s.removeEventListener(a,f,true)}}});d.each(["bind","one"],function(a,c){d.fn[c]=function(a,i,b){var h;if(typeof a==="object"){for(var l in a)this[c](l,i,a[l],b);return this}if(arguments.length===2||i===false){b=i;i=e}if(c===
"one"){h=function(a){d(this).unbind(a,h);return b.apply(this,arguments)};h.guid=b.guid||d.guid++}else h=b;if(a==="unload"&&c!=="one")this.one(a,i,b);else{l=0;for(var g=this.length;l<g;l++)d.event.add(this[l],a,h,i)}return this}});d.fn.extend({unbind:function(a,c){if(typeof a==="object"&&!a.preventDefault)for(var f in a)this.unbind(f,a[f]);else{f=0;for(var i=this.length;f<i;f++)d.event.remove(this[f],a,c)}return this},delegate:function(a,c,d,i){return this.live(c,d,i,a)},undelegate:function(a,c,d){return arguments.length===
0?this.unbind("live"):this.die(c,null,d,a)},trigger:function(a,c){return this.each(function(){d.event.trigger(a,c,this)})},triggerHandler:function(a,c){if(this[0])return d.event.trigger(a,c,this[0],true)},toggle:function(a){var c=arguments,f=a.guid||d.guid++,i=0,b=function(f){var b=(d.data(this,"lastToggle"+a.guid)||0)%i;d.data(this,"lastToggle"+a.guid,b+1);f.preventDefault();return c[b].apply(this,arguments)||false};for(b.guid=f;i<c.length;)c[i++].guid=f;return this.click(b)},hover:function(a,c){return this.mouseenter(a).mouseleave(c||
a)}});var oa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};d.each(["live","die"],function(a,c){d.fn[c]=function(a,i,b,h){var l=0,g,j,n=h||this.selector,k=h?this:d(this.context);if(typeof a==="object"&&!a.preventDefault){for(g in a)k[c](g,i,a[g],n);return this}if(c==="die"&&!a&&h&&h.charAt(0)==="."){k.unbind(h);return this}if(i===false||d.isFunction(i)){b=i||q;i=e}for(a=(a||"").split(" ");(h=a[l++])!=null;){g=ga.exec(h);j="";if(g){j=g[0];h=h.replace(ga,"")}if(h==="hover")a.push("mouseenter"+
j,"mouseleave"+j);else{g=h;if(oa[h]){a.push(oa[h]+j);h=h+j}else h=(oa[h]||h)+j;if(c==="live"){j=0;for(var v=k.length;j<v;j++)d.event.add(k[j],"live."+z(h,n),{data:i,selector:n,handler:b,origType:h,origHandler:b,preType:g})}else k.unbind("live."+z(h,n),b)}}return this}});d.each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(","),function(a,c){d.fn[c]=
function(a,d){if(d==null){d=a;a=null}return arguments.length>0?this.bind(c,a,d):this.trigger(c)};d.attrFn&&(d.attrFn[c]=true)});(function(){function a(a,c,d,f,i,b){for(var i=0,h=f.length;i<h;i++){var m=f[i];if(m){for(var e=false,m=m[a];m;){if(m.sizcache===d){e=f[m.sizset];break}if(m.nodeType===1&&!b){m.sizcache=d;m.sizset=i}if(m.nodeName.toLowerCase()===c){e=m;break}m=m[a]}f[i]=e}}}function c(a,c,d,f,i,b){for(var i=0,h=f.length;i<h;i++){var m=f[i];if(m){for(var e=false,m=m[a];m;){if(m.sizcache===
d){e=f[m.sizset];break}if(m.nodeType===1){if(!b){m.sizcache=d;m.sizset=i}if(typeof c!=="string"){if(m===c){e=true;break}}else if(n.filter(c,[m]).length>0){e=m;break}}m=m[a]}f[i]=e}}}var f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=0,b=Object.prototype.toString,h=false,l=true,g=/\\/g,j=/\W/;[0,0].sort(function(){l=false;return 0});var n=function(a,c,d,i){var d=d||[],h=c=c||s;if(c.nodeType!==1&&c.nodeType!==
9)return[];if(!a||typeof a!=="string")return d;var e,l,g,j,t,Q=true,o=n.isXML(c),p=[],q=a;do{f.exec("");if(e=f.exec(q)){q=e[3];p.push(e[1]);if(e[2]){j=e[3];break}}}while(e);if(p.length>1&&v.exec(a))if(p.length===2&&k.relative[p[0]])l=D(p[0]+p[1],c);else for(l=k.relative[p[0]]?[c]:n(p.shift(),c);p.length;){a=p.shift();k.relative[a]&&(a=a+p.shift());l=D(a,l)}else{if(!i&&p.length>1&&c.nodeType===9&&!o&&k.match.ID.test(p[0])&&!k.match.ID.test(p[p.length-1])){e=n.find(p.shift(),c,o);c=e.expr?n.filter(e.expr,
e.set)[0]:e.set[0]}if(c){e=i?{expr:p.pop(),set:y(i)}:n.find(p.pop(),p.length===1&&(p[0]==="~"||p[0]==="+")&&c.parentNode?c.parentNode:c,o);l=e.expr?n.filter(e.expr,e.set):e.set;for(p.length>0?g=y(l):Q=false;p.length;){e=t=p.pop();k.relative[t]?e=p.pop():t="";e==null&&(e=c);k.relative[t](g,e,o)}}else g=[]}g||(g=l);g||n.error(t||a);if(b.call(g)==="[object Array]")if(Q)if(c&&c.nodeType===1)for(a=0;g[a]!=null;a++)g[a]&&(g[a]===true||g[a].nodeType===1&&n.contains(c,g[a]))&&d.push(l[a]);else for(a=0;g[a]!=
null;a++)g[a]&&g[a].nodeType===1&&d.push(l[a]);else d.push.apply(d,g);else y(g,d);if(j){n(j,h,d,i);n.uniqueSort(d)}return d};n.uniqueSort=function(a){if(r){h=l;a.sort(r);if(h)for(var c=1;c<a.length;c++)a[c]===a[c-1]&&a.splice(c--,1)}return a};n.matches=function(a,c){return n(a,null,null,c)};n.matchesSelector=function(a,c){return n(c,null,null,[a]).length>0};n.find=function(a,c,d){var f;if(!a)return[];for(var i=0,b=k.order.length;i<b;i++){var h,m=k.order[i];if(h=k.leftMatch[m].exec(a)){var e=h[1];
h.splice(1,1);if(e.substr(e.length-1)!=="\\"){h[1]=(h[1]||"").replace(g,"");f=k.find[m](h,c,d);if(f!=null){a=a.replace(k.match[m],"");break}}}}f||(f=typeof c.getElementsByTagName!=="undefined"?c.getElementsByTagName("*"):[]);return{set:f,expr:a}};n.filter=function(a,c,d,f){for(var i,b,h=a,m=[],l=c,g=c&&c[0]&&n.isXML(c[0]);a&&c.length;){for(var j in k.filter)if((i=k.leftMatch[j].exec(a))!=null&&i[2]){var t,v,p=k.filter[j];v=i[1];b=false;i.splice(1,1);if(v.substr(v.length-1)!=="\\"){l===m&&(m=[]);if(k.preFilter[j])if(i=
k.preFilter[j](i,l,d,m,f,g)){if(i===true)continue}else b=t=true;if(i)for(var Q=0;(v=l[Q])!=null;Q++)if(v){t=p(v,i,Q,l);var o=f^!!t;if(d&&t!=null)o?b=true:l[Q]=false;else if(o){m.push(v);b=true}}if(t!==e){d||(l=m);a=a.replace(k.match[j],"");if(!b)return[];break}}}if(a===h)if(b==null)n.error(a);else break;h=a}return l};n.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var k=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className",
"for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,c){var d=typeof c==="string",f=d&&!j.test(c),d=d&&!f;f&&(c=c.toLowerCase());for(var f=0,i=a.length,b;f<i;f++)if(b=a[f]){for(;(b=b.previousSibling)&&b.nodeType!==1;);a[f]=d||b&&b.nodeName.toLowerCase()===c?b||false:b===c}d&&n.filter(c,a,true)},">":function(a,c){var d,f=typeof c==="string",i=0,b=a.length;if(f&&!j.test(c))for(c=c.toLowerCase();i<b;i++){if(d=
a[i]){d=d.parentNode;a[i]=d.nodeName.toLowerCase()===c?d:false}}else{for(;i<b;i++)(d=a[i])&&(a[i]=f?d.parentNode:d.parentNode===c);f&&n.filter(c,a,true)}},"":function(d,f,b){var h,m=i++,e=c;if(typeof f==="string"&&!j.test(f)){h=f=f.toLowerCase();e=a}e("parentNode",f,m,d,h,b)},"~":function(d,f,b){var h,m=i++,e=c;if(typeof f==="string"&&!j.test(f)){h=f=f.toLowerCase();e=a}e("previousSibling",f,m,d,h,b)}},find:{ID:function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(a=c.getElementById(a[1]))&&
a.parentNode?[a]:[]},NAME:function(a,c){if(typeof c.getElementsByName!=="undefined"){for(var d=[],f=c.getElementsByName(a[1]),i=0,b=f.length;i<b;i++)f[i].getAttribute("name")===a[1]&&d.push(f[i]);return d.length===0?null:d}},TAG:function(a,c){if(typeof c.getElementsByTagName!=="undefined")return c.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,c,d,f,i,b){a=" "+a[1].replace(g,"")+" ";if(b)return a;for(var b=0,h;(h=c[b])!=null;b++)h&&(i^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g,
" ").indexOf(a)>=0)?d||f.push(h):d&&(c[b]=false));return false},ID:function(a){return a[1].replace(g,"")},TAG:function(a){return a[1].replace(g,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||n.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var c=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=c[1]+(c[2]||1)-0;a[3]=c[3]-0}else a[2]&&n.error(a[0]);a[0]=i++;return a},ATTR:function(a,c,d,f,i,b){c=a[1]=a[1].replace(g,"");
!b&&k.attrMap[c]&&(a[1]=k.attrMap[c]);a[4]=(a[4]||a[5]||"").replace(g,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,c,d,i,b){if(a[1]==="not")if((f.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=n(a[3],null,null,c);else{a=n.filter(a[3],c,d,1^b);d||i.push.apply(i,a);return false}else if(k.match.POS.test(a[0])||k.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,c,d){return!!n(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var c=a.getAttribute("type"),d=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===d&&(c===d||c===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&
"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var c=a.nodeName.toLowerCase();return(c==="input"||c==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var c=a.nodeName.toLowerCase();return(c===
"input"||c==="button")&&"reset"===a.type},button:function(a){var c=a.nodeName.toLowerCase();return c==="input"&&"button"===a.type||c==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,c){return c===0},last:function(a,c,d,f){return c===f.length-1},even:function(a,c){return c%2===0},odd:function(a,c){return c%2===1},lt:function(a,c,d){return c<d[3]-0},gt:function(a,c,d){return c>
d[3]-0},nth:function(a,c,d){return d[3]-0===c},eq:function(a,c,d){return d[3]-0===c}},filter:{PSEUDO:function(a,c,d,f){var i=c[1],b=k.filters[i];if(b)return b(a,d,c,f);if(i==="contains")return(a.textContent||a.innerText||n.getText([a])||"").indexOf(c[3])>=0;if(i==="not"){c=c[3];d=0;for(f=c.length;d<f;d++)if(c[d]===a)return false;return true}n.error(i)},CHILD:function(a,c){var d=c[1],f=a;switch(d){case "only":case "first":for(;f=f.previousSibling;)if(f.nodeType===1)return false;if(d==="first")return true;
f=a;case "last":for(;f=f.nextSibling;)if(f.nodeType===1)return false;return true;case "nth":var d=c[2],i=c[3];if(d===1&&i===0)return true;var b=c[0],h=a.parentNode;if(h&&(h.sizcache!==b||!a.nodeIndex)){for(var m=0,f=h.firstChild;f;f=f.nextSibling)if(f.nodeType===1)f.nodeIndex=++m;h.sizcache=b}f=a.nodeIndex-i;return d===0?f===0:f%d===0&&f/d>=0}},ID:function(a,c){return a.nodeType===1&&a.getAttribute("id")===c},TAG:function(a,c){return c==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===c},CLASS:function(a,
c){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(c)>-1},ATTR:function(a,c){var d=c[1],d=k.attrHandle[d]?k.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),f=d+"",i=c[2],b=c[4];return d==null?i==="!=":i==="="?f===b:i==="*="?f.indexOf(b)>=0:i==="~="?(" "+f+" ").indexOf(b)>=0:!b?f&&d!==false:i==="!="?f!==b:i==="^="?f.indexOf(b)===0:i==="$="?f.substr(f.length-b.length)===b:i==="|="?f===b||f.substr(0,b.length+1)===b+"-":false},POS:function(a,c,d,f){var i=k.setFilters[c[2]];if(i)return i(a,
d,c,f)}}},v=k.match.POS,o=function(a,c){return"\\"+(c-0+1)},p;for(p in k.match){k.match[p]=RegExp(k.match[p].source+/(?![^\[]*\])(?![^\(]*\))/.source);k.leftMatch[p]=RegExp(/(^(?:.|\r|\n)*?)/.source+k.match[p].source.replace(/\\(\d+)/g,o))}var y=function(a,c){a=Array.prototype.slice.call(a,0);if(c){c.push.apply(c,a);return c}return a};try{Array.prototype.slice.call(s.documentElement.childNodes,0)[0].nodeType}catch(q){y=function(a,c){var d=0,f=c||[];if(b.call(a)==="[object Array]")Array.prototype.push.apply(f,
a);else if(typeof a.length==="number")for(var i=a.length;d<i;d++)f.push(a[d]);else for(;a[d];d++)f.push(a[d]);return f}}var r,C;if(s.documentElement.compareDocumentPosition)r=function(a,c){if(a===c){h=true;return 0}return!a.compareDocumentPosition||!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1};else{r=function(a,c){if(a===c){h=true;return 0}if(a.sourceIndex&&c.sourceIndex)return a.sourceIndex-c.sourceIndex;var d,f,i=[],b=[];d=a.parentNode;f=c.parentNode;
var m=d;if(d===f)return C(a,c);if(d){if(!f)return 1}else return-1;for(;m;){i.unshift(m);m=m.parentNode}for(m=f;m;){b.unshift(m);m=m.parentNode}d=i.length;f=b.length;for(m=0;m<d&&m<f;m++)if(i[m]!==b[m])return C(i[m],b[m]);return m===d?C(a,b[m],-1):C(i[m],c,1)};C=function(a,c,d){if(a===c)return d;for(a=a.nextSibling;a;){if(a===c)return-1;a=a.nextSibling}return 1}}n.getText=function(a){for(var c="",d,f=0;a[f];f++){d=a[f];d.nodeType===3||d.nodeType===4?c=c+d.nodeValue:d.nodeType!==8&&(c=c+n.getText(d.childNodes))}return c};
(function(){var a=s.createElement("div"),c="script"+(new Date).getTime(),d=s.documentElement;a.innerHTML="<a name='"+c+"'/>";d.insertBefore(a,d.firstChild);if(s.getElementById(c)){k.find.ID=function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:e:[]};k.filter.ID=function(a,c){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===
1&&d&&d.nodeValue===c}}d.removeChild(a);d=a=null})();(function(){var a=s.createElement("div");a.appendChild(s.createComment(""));if(a.getElementsByTagName("*").length>0)k.find.TAG=function(a,c){var d=c.getElementsByTagName(a[1]);if(a[1]==="*"){for(var f=[],i=0;d[i];i++)d[i].nodeType===1&&f.push(d[i]);d=f}return d};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")k.attrHandle.href=function(a){return a.getAttribute("href",
2)};a=null})();s.querySelectorAll&&function(){var a=n,c=s.createElement("div");c.innerHTML="<p class='TEST'></p>";if(!(c.querySelectorAll&&c.querySelectorAll(".TEST").length===0)){n=function(c,d,f,i){d=d||s;if(!i&&!n.isXML(d)){var b=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(c);if(b&&(d.nodeType===1||d.nodeType===9)){if(b[1])return y(d.getElementsByTagName(c),f);if(b[2]&&k.find.CLASS&&d.getElementsByClassName)return y(d.getElementsByClassName(b[2]),f)}if(d.nodeType===9){if(c==="body"&&d.body)return y([d.body],
f);if(b&&b[3]){var h=d.getElementById(b[3]);if(h&&h.parentNode){if(h.id===b[3])return y([h],f)}else return y([],f)}try{return y(d.querySelectorAll(c),f)}catch(m){}}else if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){var b=d,e=(h=d.getAttribute("id"))||"__sizzle__",l=d.parentNode,g=/^\s*[+~]/.test(c);h?e=e.replace(/'/g,"\\$&"):d.setAttribute("id",e);if(g&&l)d=d.parentNode;try{if(!g||l)return y(d.querySelectorAll("[id='"+e+"'] "+c),f)}catch(j){}finally{h||b.removeAttribute("id")}}}return a(c,
d,f,i)};for(var d in a)n[d]=a[d];c=null}}();(function(){var a=s.documentElement,c=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(c){var d=!c.call(s.createElement("div"),"div"),f=false;try{c.call(s.documentElement,"[test!='']:sizzle")}catch(i){f=true}n.matchesSelector=function(a,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(a))try{if(f||!k.match.PSEUDO.test(i)&&!/!=/.test(i)){var b=c.call(a,i);if(b||!d||a.document&&a.document.nodeType!==11)return b}}catch(h){}return n(i,
null,null,[a]).length>0}}})();(function(){var a=s.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){k.order.splice(1,0,"CLASS");k.find.CLASS=function(a,c,d){if(typeof c.getElementsByClassName!=="undefined"&&!d)return c.getElementsByClassName(a[1])};a=null}}})();n.contains=s.documentElement.contains?function(a,c){return a!==
c&&(a.contains?a.contains(c):true)}:s.documentElement.compareDocumentPosition?function(a,c){return!!(a.compareDocumentPosition(c)&16)}:function(){return false};n.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var D=function(a,c){for(var d,f=[],i="",b=c.nodeType?[c]:c;d=k.match.PSEUDO.exec(a);){i=i+d[0];a=a.replace(k.match.PSEUDO,"")}a=k.relative[a]?a+"*":a;d=0;for(var h=b.length;d<h;d++)n(a,b[d],f);return n.filter(i,f)};d.find=n;d.expr=n.selectors;
d.expr[":"]=d.expr.filters;d.unique=n.uniqueSort;d.text=n.getText;d.isXMLDoc=n.isXML;d.contains=n.contains})();var hb=/Until$/,ib=/^(?:parents|prevUntil|prevAll)/,jb=/,/,Ua=/^.[^:#\[\.,]*$/,kb=Array.prototype.slice,Ba=d.expr.match.POS,lb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(a){var c=this,f,i;if(typeof a!=="string")return d(a).filter(function(){f=0;for(i=c.length;f<i;f++)if(d.contains(c[f],this))return true});var b=this.pushStack("","find",a),h,e,l;f=0;for(i=this.length;f<
i;f++){h=b.length;d.find(a,this[f],b);if(f>0)for(e=h;e<b.length;e++)for(l=0;l<h;l++)if(b[l]===b[e]){b.splice(e--,1);break}}return b},has:function(a){var c=d(a);return this.filter(function(){for(var a=0,i=c.length;a<i;a++)if(d.contains(this,c[a]))return true})},not:function(a){return this.pushStack(A(this,a,false),"not",a)},filter:function(a){return this.pushStack(A(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,
c){var f=[],i,b,h=this[0];if(d.isArray(a)){var e,l={},g=1;if(h&&a.length){i=0;for(b=a.length;i<b;i++){e=a[i];l[e]||(l[e]=Ba.test(e)?d(e,c||this.context):e)}for(;h&&h.ownerDocument&&h!==c;){for(e in l){i=l[e];(i.jquery?i.index(h)>-1:d(h).is(i))&&f.push({selector:e,elem:h,level:g})}h=h.parentNode;g++}}return f}e=Ba.test(a)||typeof a!=="string"?d(a,c||this.context):0;i=0;for(b=this.length;i<b;i++)for(h=this[i];h;)if(e?e.index(h)>-1:d.find.matchesSelector(h,a)){f.push(h);break}else{h=h.parentNode;if(!h||
!h.ownerDocument||h===c||h.nodeType===11)break}f=f.length>1?d.unique(f):f;return this.pushStack(f,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a==="string"?d.inArray(this[0],d(a)):d.inArray(a.jquery?a[0]:a,this)},add:function(a,c){var f=typeof a==="string"?d(a,c):d.makeArray(a&&a.nodeType?[a]:a),i=d.merge(this.get(),f);return this.pushStack(!f[0]||!f[0].parentNode||f[0].parentNode.nodeType===11||!i[0]||!i[0].parentNode||i[0].parentNode.nodeType===
11?i:d.unique(i))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,c,f){return d.dir(a,"parentNode",f)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,c,f){return d.dir(a,
"nextSibling",f)},prevUntil:function(a,c,f){return d.dir(a,"previousSibling",f)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,c){d.fn[a]=function(f,i){var b=d.map(this,c,f),h=kb.call(arguments);hb.test(a)||(i=f);i&&typeof i==="string"&&(b=d.filter(i,b));b=this.length>1&&!lb[a]?d.unique(b):b;if((this.length>
1||jb.test(i))&&ib.test(a))b=b.reverse();return this.pushStack(b,a,h.join(","))}});d.extend({filter:function(a,c,f){f&&(a=":not("+a+")");return c.length===1?d.find.matchesSelector(c[0],a)?[c[0]]:[]:d.find.matches(a,c)},dir:function(a,c,f){for(var i=[],a=a[c];a&&a.nodeType!==9&&(f===e||a.nodeType!==1||!d(a).is(f));){a.nodeType===1&&i.push(a);a=a[c]}return i},nth:function(a,c,d){for(var c=c||1,i=0;a;a=a[d])if(a.nodeType===1&&++i===c)break;return a},sibling:function(a,c){for(var d=[];a;a=a.nextSibling)a.nodeType===
1&&a!==c&&d.push(a);return d}});var mb=/ jQuery\d+="(?:\d+|null)"/g,pa=/^\s+/,Ca=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Da=/<([\w:]+)/,nb=/<tbody/i,ob=/<|&#?\w+;/,Ea=/<(?:script|object|embed|option|style)/i,Fa=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/\/(java|ecma)script/i,Va=/^\s*<!(?:\[CDATA\[|\-\-)/,E={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};E.optgroup=E.option;E.tbody=E.tfoot=E.colgroup=E.caption=E.thead;E.th=E.td;d.support.htmlSerialize||(E._default=[1,"div<div>","</div>"]);d.fn.extend({text:function(a){return d.isFunction(a)?this.each(function(c){var f=d(this);f.text(a.call(this,c,f.text()))}):typeof a!=="object"&&a!==e?this.empty().append((this[0]&&this[0].ownerDocument||
s).createTextNode(a)):d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(c){d(this).wrapAll(a.call(this,c))});if(this[0]){var c=d(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return d.isFunction(a)?this.each(function(c){d(this).wrapInner(a.call(this,c))}):this.each(function(){var c=d(this),
f=c.contents();f.length?f.wrapAll(a):c.append(a)})},wrap:function(a){return this.each(function(){d(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&
this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=d(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,d(arguments[0]).toArray());return a}},remove:function(a,
c){for(var f=0,i;(i=this[f])!=null;f++)if(!a||d.filter(a,[i]).length){if(!c&&i.nodeType===1){d.cleanData(i.getElementsByTagName("*"));d.cleanData([i])}i.parentNode&&i.parentNode.removeChild(i)}return this},empty:function(){for(var a=0,c;(c=this[a])!=null;a++)for(c.nodeType===1&&d.cleanData(c.getElementsByTagName("*"));c.firstChild;)c.removeChild(c.firstChild);return this},clone:function(a,c){a=a==null?false:a;c=c==null?a:c;return this.map(function(){return d.clone(this,a,c)})},html:function(a){if(a===
e)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(mb,""):null;if(typeof a==="string"&&!Ea.test(a)&&(d.support.leadingWhitespace||!pa.test(a))&&!E[(Da.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ca,"<$1></$2>");try{for(var c=0,f=this.length;c<f;c++)if(this[c].nodeType===1){d.cleanData(this[c].getElementsByTagName("*"));this[c].innerHTML=a}}catch(i){this.empty().append(a)}}else d.isFunction(a)?this.each(function(c){var f=d(this);f.html(a.call(this,c,f.html()))}):this.empty().append(a);
return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(c){var f=d(this),i=f.html();f.replaceWith(a.call(this,c,i))});typeof a!=="string"&&(a=d(a).detach());return this.each(function(){var c=this.nextSibling,f=this.parentNode;d(this).remove();c?d(c).before(a):d(f).append(a)})}return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,c,f){var i,b,h,g=
a[0],j=[];if(!d.support.checkClone&&arguments.length===3&&typeof g==="string"&&Fa.test(g))return this.each(function(){d(this).domManip(a,c,f,true)});if(d.isFunction(g))return this.each(function(i){var b=d(this);a[0]=g.call(this,i,c?b.html():e);b.domManip(a,c,f)});if(this[0]){i=g&&g.parentNode;i=d.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?{fragment:i}:d.buildFragment(a,this,j);h=i.fragment;if(b=h.childNodes.length===1?h=h.firstChild:h.firstChild){c=c&&d.nodeName(b,"tr");
b=0;for(var n=this.length,k=n-1;b<n;b++)f.call(c?d.nodeName(this[b],"table")?this[b].getElementsByTagName("tbody")[0]||this[b].appendChild(this[b].ownerDocument.createElement("tbody")):this[b]:this[b],i.cacheable||n>1&&b<k?d.clone(h,true,true):h)}j.length&&d.each(j,l)}return this}});d.buildFragment=function(a,c,f){var i,b,h,e;c&&c[0]&&(e=c[0].ownerDocument||c[0]);e.createDocumentFragment||(e=s);if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&e===s&&a[0].charAt(0)==="<"&&!Ea.test(a[0])&&
(d.support.checkClone||!Fa.test(a[0]))){b=true;(h=d.fragments[a[0]])&&h!==1&&(i=h)}if(!i){i=e.createDocumentFragment();d.clean(a,e,i,f)}b&&(d.fragments[a[0]]=h?i:1);return{fragment:i,cacheable:b}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){d.fn[a]=function(f){var i=[],f=d(f),b=this.length===1&&this[0].parentNode;if(b&&b.nodeType===11&&b.childNodes.length===1&&f.length===1){f[c](this[0]);return this}for(var b=
0,h=f.length;b<h;b++){var e=(b>0?this.clone(true):this).get();d(f[b])[c](e);i=i.concat(e)}return this.pushStack(i,a,f.selector)}});d.extend({clone:function(a,c,f){var i=a.cloneNode(true),b,h,e;if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){r(a,i);b=x(a);h=x(i);for(e=0;b[e];++e)h[e]&&r(b[e],h[e])}if(c){u(a,i);if(f){b=x(a);h=x(i);for(e=0;b[e];++e)u(b[e],h[e])}}return i},clean:function(a,c,f,i){c=c||s;typeof c.createElement==="undefined"&&
(c=c.ownerDocument||c[0]&&c[0].ownerDocument||s);for(var b=[],e,l=0,g;(g=a[l])!=null;l++){typeof g==="number"&&(g=g+"");if(g){if(typeof g==="string")if(ob.test(g)){g=g.replace(Ca,"<$1></$2>");e=(Da.exec(g)||["",""])[1].toLowerCase();var j=E[e]||E._default,n=j[0],k=c.createElement("div");for(k.innerHTML=j[1]+g+j[2];n--;)k=k.lastChild;if(!d.support.tbody){n=nb.test(g);j=e==="table"&&!n?k.firstChild&&k.firstChild.childNodes:j[1]==="<table>"&&!n?k.childNodes:[];for(e=j.length-1;e>=0;--e)d.nodeName(j[e],
"tbody")&&!j[e].childNodes.length&&j[e].parentNode.removeChild(j[e])}!d.support.leadingWhitespace&&pa.test(g)&&k.insertBefore(c.createTextNode(pa.exec(g)[0]),k.firstChild);g=k.childNodes}else g=c.createTextNode(g);var v;if(!d.support.appendChecked)if(g[0]&&typeof(v=g.length)==="number")for(e=0;e<v;e++)h(g[e]);else h(g);g.nodeType?b.push(g):b=d.merge(b,g)}}if(f){a=function(a){return!a.type||pb.test(a.type)};for(l=0;b[l];l++)if(i&&d.nodeName(b[l],"script")&&(!b[l].type||b[l].type.toLowerCase()==="text/javascript"))i.push(b[l].parentNode?
b[l].parentNode.removeChild(b[l]):b[l]);else{if(b[l].nodeType===1){c=d.grep(b[l].getElementsByTagName("script"),a);b.splice.apply(b,[l+1,0].concat(c))}f.appendChild(b[l])}}return b},cleanData:function(a){for(var c,f,i=d.cache,b=d.expando,h=d.event.special,e=d.support.deleteExpando,l=0,g;(g=a[l])!=null;l++)if(!g.nodeName||!d.noData[g.nodeName.toLowerCase()])if(f=g[d.expando]){if((c=i[f]&&i[f][b])&&c.events){for(var j in c.events)h[j]?d.event.remove(g,j):d.removeEvent(g,j,c.handle);if(c.handle)c.handle.elem=
null}e?delete g[d.expando]:g.removeAttribute&&g.removeAttribute(d.expando);delete i[f]}}});var qa=/alpha\([^)]*\)/i,qb=/opacity=([^)]*)/,rb=/([A-Z]|^ms)/g,Ga=/^-?\d+(?:px)?$/i,sb=/^-?\d/,tb=/^([\-+])=([\-+.\de]+)/,ub={position:"absolute",visibility:"hidden",display:"block"},Wa=["Left","Right"],Xa=["Top","Bottom"],S,Ha,Ia;d.fn.css=function(a,c){return arguments.length===2&&c===e?this:d.access(this,a,c,true,function(a,c,b){return b!==e?d.style(a,c,b):d.css(a,c)})};d.extend({cssHooks:{opacity:{get:function(a,
c){if(c){var d=S(a,"opacity","opacity");return d===""?"1":d}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,f,i){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var b,h=d.camelCase(c),l=a.style,g=d.cssHooks[h],c=d.cssProps[h]||h;if(f!==e){i=typeof f;if(i==="string"&&(b=tb.exec(f))){f=+(b[1]+1)*+b[2]+parseFloat(d.css(a,c));i="number"}if(!(f==
null||i==="number"&&isNaN(f))){i==="number"&&!d.cssNumber[h]&&(f=f+"px");if(!g||!("set"in g)||(f=g.set(a,f))!==e)try{l[c]=f}catch(j){}}}else return g&&"get"in g&&(b=g.get(a,false,i))!==e?b:l[c]}},css:function(a,c,f){var b,h,c=d.camelCase(c);h=d.cssHooks[c];c=d.cssProps[c]||c;c==="cssFloat"&&(c="float");if(h&&"get"in h&&(b=h.get(a,true,f))!==e)return b;if(S)return S(a,c)},swap:function(a,c,d){var b={},h;for(h in c){b[h]=a.style[h];a.style[h]=c[h]}d.call(a);for(h in c)a.style[h]=b[h]}});d.curCSS=d.css;
d.each(["height","width"],function(a,c){d.cssHooks[c]={get:function(a,b,h){var e;if(b){if(a.offsetWidth!==0)return n(a,c,h);d.swap(a,ub,function(){e=n(a,c,h)});return e}},set:function(a,c){if(Ga.test(c)){c=parseFloat(c);if(c>=0)return c+"px"}else return c}}});d.support.opacity||(d.cssHooks.opacity={get:function(a,c){return qb.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,c){var f=a.style,b=a.currentStyle,h=d.isNaN(c)?"":"alpha(opacity="+
c*100+")",e=b&&b.filter||f.filter||"";f.zoom=1;if(c>=1&&d.trim(e.replace(qa,""))===""){f.removeAttribute("filter");if(b&&!b.filter)return}f.filter=qa.test(e)?e.replace(qa,h):e+" "+h}});d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(a,c){var f;d.swap(a,{display:"inline-block"},function(){f=c?S(a,"margin-right","marginRight"):a.style.marginRight});return f}}});s.defaultView&&s.defaultView.getComputedStyle&&(Ha=function(a,c){var f,b,c=c.replace(rb,"-$1").toLowerCase();
if(!(b=a.ownerDocument.defaultView))return e;if(b=b.getComputedStyle(a,null)){f=b.getPropertyValue(c);f===""&&!d.contains(a.ownerDocument.documentElement,a)&&(f=d.style(a,c))}return f});s.documentElement.currentStyle&&(Ia=function(a,c){var d,b=a.currentStyle&&a.currentStyle[c],h=a.runtimeStyle&&a.runtimeStyle[c],e=a.style;if(!Ga.test(b)&&sb.test(b)){d=e.left;if(h)a.runtimeStyle.left=a.currentStyle.left;e.left=c==="fontSize"?"1em":b||0;b=e.pixelLeft+"px";e.left=d;if(h)a.runtimeStyle.left=h}return b===
""?"auto":b});S=Ha||Ia;d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(a){var c=a.offsetHeight;return a.offsetWidth===0&&c===0||!d.support.reliableHiddenOffsets&&(a.style.display||d.css(a,"display"))==="none"},d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)});var vb=/%20/g,Ya=/\[\]$/,Ja=/\r?\n/g,wb=/#.*$/,xb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,yb=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,zb=/^(?:GET|HEAD)$/,
Ab=/^\/\//,Ka=/\?/,Bb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Cb=/^(?:select|textarea)/i,sa=/\s+/,Db=/([?&])_=[^&]*/,La=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Ma=d.fn.load,ha={},Na={},M,O,Oa=["*/"]+["*"];try{M=ja.href}catch(Jb){M=s.createElement("a"),M.href="",M=M.href}O=La.exec(M.toLowerCase())||[];d.fn.extend({load:function(a,c,f){if(typeof a!=="string"&&Ma)return Ma.apply(this,arguments);if(!this.length)return this;var b=a.indexOf(" ");if(b>=0)var h=a.slice(b,a.length),
a=a.slice(0,b);b="GET";if(c)if(d.isFunction(c)){f=c;c=e}else if(typeof c==="object"){c=d.param(c,d.ajaxSettings.traditional);b="POST"}var l=this;d.ajax({url:a,type:b,dataType:"html",data:c,complete:function(a,c,b){b=a.responseText;if(a.isResolved()){a.done(function(a){b=a});l.html(h?d("<div>").append(b.replace(Bb,"")).find(h):b)}f&&l.each(f,[b,c,a])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cb.test(this.nodeName)||yb.test(this.type))}).map(function(a,c){var f=d(this).val();return f==null?null:d.isArray(f)?d.map(f,function(a){return{name:c.name,value:a.replace(Ja,"\r\n")}}):{name:c.name,value:f.replace(Ja,"\r\n")}}).get()}});d.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(a,c){d.fn[c]=function(a){return this.bind(c,a)}});d.each(["get","post"],
function(a,c){d[c]=function(a,b,h,l){if(d.isFunction(b)){l=l||h;h=b;b=e}return d.ajax({type:c,url:a,data:b,success:h,dataType:l})}});d.extend({getScript:function(a,c){return d.get(a,e,c,"script")},getJSON:function(a,c,f){return d.get(a,c,f,"json")},ajaxSetup:function(a,c){if(c)G(a,d.ajaxSettings);else{c=a;a=d.ajaxSettings}G(a,c);return a},ajaxSettings:{url:M,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(O[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Oa},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":g.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:y(ha),ajaxTransport:y(Na),ajax:function(a,c){function f(a,c,f,v){if(C!==2){C=2;q&&clearTimeout(q);s=e;o=v||"";u.readyState=
a>0?4:0;var p,y,r,v=c;if(f){var A=b,F=u,G=A.contents,L=A.dataTypes,N=A.responseFields,x,w,I,T;for(w in N)w in f&&(F[N[w]]=f[w]);for(;L[0]==="*";){L.shift();x===e&&(x=A.mimeType||F.getResponseHeader("content-type"))}if(x)for(w in G)if(G[w]&&G[w].test(x)){L.unshift(w);break}if(L[0]in f)I=L[0];else{for(w in f){if(!L[0]||A.converters[w+" "+L[0]]){I=w;break}T||(T=w)}I=I||T}if(I){I!==L[0]&&L.unshift(I);f=f[I]}else f=void 0}else f=e;if(a>=200&&a<300||a===304){if(b.ifModified){if(x=u.getResponseHeader("Last-Modified"))d.lastModified[k]=
x;if(x=u.getResponseHeader("Etag"))d.etag[k]=x}if(a===304){v="notmodified";p=true}else try{x=b;x.dataFilter&&(f=x.dataFilter(f,x.dataType));var H=x.dataTypes;w={};var B,z,ja=H.length,aa,E=H[0],R,K,P,J,M;for(B=1;B<ja;B++){if(B===1)for(z in x.converters)typeof z==="string"&&(w[z.toLowerCase()]=x.converters[z]);R=E;E=H[B];if(E==="*")E=R;else if(R!=="*"&&R!==E){K=R+" "+E;P=w[K]||w["* "+E];if(!P){M=e;for(J in w){aa=J.split(" ");if(aa[0]===R||aa[0]==="*")if(M=w[aa[1]+" "+E]){J=w[J];J===true?P=M:M===true&&
(P=J);break}}}!P&&!M&&d.error("No conversion from "+K.replace(" "," to "));P!==true&&(f=P?P(f):M(J(f)))}}y=f;v="success";p=true}catch(O){v="parsererror";r=O}}else{r=v;if(!v||a){v="error";a<0&&(a=0)}}u.status=a;u.statusText=""+(c||v);p?g.resolveWith(h,[y,v,u]):g.rejectWith(h,[u,v,r]);u.statusCode(n);n=e;D&&l.trigger("ajax"+(p?"Success":"Error"),[u,b,p?y:r]);j.resolveWith(h,[u,v]);if(D){l.trigger("ajaxComplete",[u,b]);--d.active||d.event.trigger("ajaxStop")}}}if(typeof a==="object"){c=a;a=e}var c=c||
{},b=d.ajaxSetup({},c),h=b.context||b,l=h!==b&&(h.nodeType||h instanceof d)?d(h):d.event,g=d.Deferred(),j=d._Deferred(),n=b.statusCode||{},k,v={},p={},o,y,s,q,r,C=0,D,A,u={readyState:0,setRequestHeader:function(a,c){if(!C){var d=a.toLowerCase(),a=p[d]=p[d]||a;v[a]=c}return this},getAllResponseHeaders:function(){return C===2?o:null},getResponseHeader:function(a){var c;if(C===2){if(!y)for(y={};c=xb.exec(o);)y[c[1].toLowerCase()]=c[2];c=y[a.toLowerCase()]}return c===e?null:c},overrideMimeType:function(a){if(!C)b.mimeType=
a;return this},abort:function(a){a=a||"abort";s&&s.abort(a);f(0,a);return this}};g.promise(u);u.success=u.done;u.error=u.fail;u.complete=j.done;u.statusCode=function(a){if(a){var c;if(C<2)for(c in a)n[c]=[n[c],a[c]];else{c=a[u.status];u.then(c,c)}}return this};b.url=((a||b.url)+"").replace(wb,"").replace(Ab,O[1]+"//");b.dataTypes=d.trim(b.dataType||"*").toLowerCase().split(sa);if(b.crossDomain==null){r=La.exec(b.url.toLowerCase());b.crossDomain=!(!r||!(r[1]!=O[1]||r[2]!=O[2]||(r[3]||(r[1]==="http:"?
80:443))!=(O[3]||(O[1]==="http:"?80:443))))}if(b.data&&b.processData&&typeof b.data!=="string")b.data=d.param(b.data,b.traditional);F(ha,b,c,u);if(C===2)return false;D=b.global;b.type=b.type.toUpperCase();b.hasContent=!zb.test(b.type);D&&d.active++===0&&d.event.trigger("ajaxStart");if(!b.hasContent){if(b.data){b.url=b.url+((Ka.test(b.url)?"&":"?")+b.data);delete b.data}k=b.url;if(b.cache===false){r=d.now();var G=b.url.replace(Db,"$1_="+r);b.url=G+(G===b.url?(Ka.test(b.url)?"&":"?")+"_="+r:"")}}(b.data&&
b.hasContent&&b.contentType!==false||c.contentType)&&u.setRequestHeader("Content-Type",b.contentType);if(b.ifModified){k=k||b.url;d.lastModified[k]&&u.setRequestHeader("If-Modified-Since",d.lastModified[k]);d.etag[k]&&u.setRequestHeader("If-None-Match",d.etag[k])}u.setRequestHeader("Accept",b.dataTypes[0]&&b.accepts[b.dataTypes[0]]?b.accepts[b.dataTypes[0]]+(b.dataTypes[0]!=="*"?", "+Oa+"; q=0.01":""):b.accepts["*"]);for(A in b.headers)u.setRequestHeader(A,b.headers[A]);if(b.beforeSend&&(b.beforeSend.call(h,
u,b)===false||C===2)){u.abort();return false}for(A in{success:1,error:1,complete:1})u[A](b[A]);if(s=F(Na,b,c,u)){u.readyState=1;D&&l.trigger("ajaxSend",[u,b]);b.async&&b.timeout>0&&(q=setTimeout(function(){u.abort("timeout")},b.timeout));try{C=1;s.send(v,f)}catch(L){C<2?f(-1,L):d.error(L)}}else f(-1,"No Transport");return u},param:function(a,c){var b=[],h=function(a,c){c=d.isFunction(c)?c():c;b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(c)};if(c===e)c=d.ajaxSettings.traditional;if(d.isArray(a)||
a.jquery&&!d.isPlainObject(a))d.each(a,function(){h(this.name,this.value)});else for(var l in a)N(l,a[l],c,h);return b.join("&").replace(vb,"+")}});d.extend({active:0,lastModified:{},etag:{}});var Eb=d.now(),ea=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+Eb++}});d.ajaxPrefilter("json jsonp",function(a,c,b){c=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(ea.test(a.url)||
c&&ea.test(a.data))){var h,e=a.jsonpCallback=d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,l=g[e],j=a.url,n=a.data,k="$1"+e+"$2";if(a.jsonp!==false){j=j.replace(ea,k);if(a.url===j){c&&(n=n.replace(ea,k));a.data===n&&(j=j+((/\?/.test(j)?"&":"?")+a.jsonp+"="+e))}}a.url=j;a.data=n;g[e]=function(a){h=[a]};b.always(function(){g[e]=l;if(h&&d.isFunction(l))g[e](h[0])});a.converters["script json"]=function(){h||d.error(e+" was not called");return h[0]};a.dataTypes[0]="json";return"script"}});
d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){if(a.cache===e)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=s.head||s.getElementsByTagName("head")[0]||s.documentElement;return{send:function(b,h){c=s.createElement("script");
c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=function(a,b){if(b||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;d&&c.parentNode&&d.removeChild(c);c=e;b||h(200,"success")}};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ra=g.ActiveXObject?function(){for(var a in W)W[a](0,1)}:!1,Fb=0,W;d.ajaxSettings.xhr=g.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&I()))a:{try{a=
new g.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:I;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var c;return{send:function(b,h){var l=a.xhr(),j,n;a.username?l.open(a.type,a.url,a.async,a.username,a.password):l.open(a.type,a.url,a.async);if(a.xhrFields)for(n in a.xhrFields)l[n]=a.xhrFields[n];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);
!a.crossDomain&&!b["X-Requested-With"]&&(b["X-Requested-With"]="XMLHttpRequest");try{for(n in b)l.setRequestHeader(n,b[n])}catch(k){}l.send(a.hasContent&&a.data||null);c=function(b,f){var g,n,k,v,p;try{if(c&&(f||l.readyState===4)){c=e;if(j){l.onreadystatechange=d.noop;ra&&delete W[j]}if(f)l.readyState!==4&&l.abort();else{g=l.status;k=l.getAllResponseHeaders();v={};if((p=l.responseXML)&&p.documentElement)v.xml=p;v.text=l.responseText;try{n=l.statusText}catch(o){n=""}!g&&a.isLocal&&!a.crossDomain?g=
v.text?200:404:g===1223&&(g=204)}}}catch(y){f||h(-1,y)}v&&h(g,n,v,k)};if(!a.async||l.readyState===4)c();else{j=++Fb;if(ra){if(!W){W={};d(g).unload(ra)}W[j]=c}l.onreadystatechange=c}},abort:function(){c&&c(0,1)}}}});var ia={},K,U,Gb=/^(?:toggle|show|hide)$/,Hb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,fa,ta=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ba;d.fn.extend({show:function(a,c,b){if(a||a===0)return this.animate(D("show",
3),a,c,b);for(var b=0,h=this.length;b<h;b++){a=this[b];if(a.style){c=a.style.display;if(!d._data(a,"olddisplay")&&c==="none")c=a.style.display="";c===""&&d.css(a,"display")==="none"&&d._data(a,"olddisplay",T(a.nodeName))}}for(b=0;b<h;b++){a=this[b];if(a.style){c=a.style.display;if(c===""||c==="none")a.style.display=d._data(a,"olddisplay")||""}}return this},hide:function(a,c,b){if(a||a===0)return this.animate(D("hide",3),a,c,b);a=0;for(c=this.length;a<c;a++)if(this[a].style){b=d.css(this[a],"display");
b!=="none"&&!d._data(this[a],"olddisplay")&&d._data(this[a],"olddisplay",b)}for(a=0;a<c;a++)if(this[a].style)this[a].style.display="none";return this},_toggle:d.fn.toggle,toggle:function(a,c,b){var h=typeof a==="boolean";d.isFunction(a)&&d.isFunction(c)?this._toggle.apply(this,arguments):a==null||h?this.each(function(){var c=h?a:d(this).is(":hidden");d(this)[c?"show":"hide"]()}):this.animate(D("toggle",3),a,c,b);return this},fadeTo:function(a,c,d,b){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},
a,d,b)},animate:function(a,c,b,h){var e=d.speed(c,b,h);if(d.isEmptyObject(a))return this.each(e.complete,[false]);a=d.extend({},a);return this[e.queue===false?"each":"queue"](function(){e.queue===false&&d._mark(this);var c=d.extend({},e),b=this.nodeType===1,f=b&&d(this).is(":hidden"),h,i,l,g,j;c.animatedProperties={};for(l in a){h=d.camelCase(l);if(l!==h){a[h]=a[l];delete a[l]}i=a[h];if(d.isArray(i)){c.animatedProperties[h]=i[1];i=a[h]=i[0]}else c.animatedProperties[h]=c.specialEasing&&c.specialEasing[h]||
c.easing||"swing";if(i==="hide"&&f||i==="show"&&!f)return c.complete.call(this);if(b&&(h==="height"||h==="width")){c.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,"display")==="inline"&&d.css(this,"float")==="none")if(d.support.inlineBlockNeedsLayout){i=T(this.nodeName);if(i==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(c.overflow!=null)this.style.overflow="hidden";
for(l in a){b=new d.fx(this,c,l);i=a[l];if(Gb.test(i))b[i==="toggle"?f?"show":"hide":i]();else{h=Hb.exec(i);g=b.cur();if(h){i=parseFloat(h[2]);j=h[3]||(d.cssNumber[l]?"":"px");if(j!=="px"){d.style(this,l,(i||1)+j);g=(i||1)/b.cur()*g;d.style(this,l,g+j)}h[1]&&(i=(h[1]==="-="?-1:1)*i+g);b.custom(g,i,j)}else b.custom(g,i,"")}}return true})},stop:function(a,c){a&&this.queue([]);this.each(function(){var a=d.timers,b=a.length;for(c||d._unmark(true,this);b--;)if(a[b].elem===this){if(c)a[b](true);a.splice(b,
1)}});c||this.dequeue();return this}});d.each({slideDown:D("show",1),slideUp:D("hide",1),slideToggle:D("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){d.fn[a]=function(a,d,b){return this.animate(c,a,d,b)}});d.extend({speed:function(a,c,b){var h=a&&typeof a==="object"?d.extend({},a):{complete:b||!b&&c||d.isFunction(a)&&a,duration:a,easing:b&&c||c&&!d.isFunction(c)&&c};h.duration=d.fx.off?0:typeof h.duration==="number"?h.duration:h.duration in
d.fx.speeds?d.fx.speeds[h.duration]:d.fx.speeds._default;h.old=h.complete;h.complete=function(a){d.isFunction(h.old)&&h.old.call(this);h.queue!==false?d.dequeue(this):a!==false&&d._unmark(this)};return h},easing:{linear:function(a,c,d,b){return d+b*a},swing:function(a,c,d,b){return(-Math.cos(a*Math.PI)/2+0.5)*b+d}},timers:[],fx:function(a,c,d){this.options=c;this.elem=a;this.prop=d;c.orig=c.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,
this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,c=d.css(this.elem,this.prop);return isNaN(a=parseFloat(c))?!c||c==="auto"?0:c:a},custom:function(a,c,b){function h(a){return e.step(a)}var e=this,l=d.fx;this.startTime=ba||v();this.start=a;this.end=c;this.unit=b||this.unit||(d.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;h.elem=this.elem;
h()&&d.timers.push(h)&&!fa&&(fa=setInterval(l.tick,l.interval))},show:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var c=ba||v(),b=true,h=this.elem,e=this.options,l;if(a||c>=e.duration+this.startTime){this.now=this.end;this.pos=
this.state=1;this.update();e.animatedProperties[this.prop]=true;for(l in e.animatedProperties)e.animatedProperties[l]!==true&&(b=false);if(b){e.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(a,c){h.style["overflow"+c]=e.overflow[a]});e.hide&&d(h).hide();if(e.hide||e.show)for(var g in e.animatedProperties)d.style(h,g,e.orig[g]);e.complete.call(h)}return false}if(e.duration==Infinity)this.now=c;else{a=c-this.startTime;this.state=a/e.duration;this.pos=d.easing[e.animatedProperties[this.prop]](this.state,
a,0,1,e.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update();return true}};d.extend(d.fx,{tick:function(){for(var a=d.timers,c=0;c<a.length;++c)a[c]()||a.splice(c--,1);a.length||d.fx.stop()},interval:13,stop:function(){clearInterval(fa);fa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):
a.now)+a.unit:a.elem[a.prop]=a.now}}});d.expr&&d.expr.filters&&(d.expr.filters.animated=function(a){return d.grep(d.timers,function(c){return a===c.elem}).length});var Ib=/^t(?:able|d|h)$/i,Pa=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in s.documentElement?function(a){var c=this[0],b;if(a)return this.each(function(c){d.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);try{b=c.getBoundingClientRect()}catch(h){}var e=
c.ownerDocument,l=e.documentElement;if(!b||!d.contains(l,c))return b?{top:b.top,left:b.left}:{top:0,left:0};c=e.body;e=p(e);return{top:b.top+(e.pageYOffset||d.support.boxModel&&l.scrollTop||c.scrollTop)-(l.clientTop||c.clientTop||0),left:b.left+(e.pageXOffset||d.support.boxModel&&l.scrollLeft||c.scrollLeft)-(l.clientLeft||c.clientLeft||0)}}:function(a){var c=this[0];if(a)return this.each(function(c){d.offset.setOffset(this,a,c)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);
d.offset.initialize();var b,h=c.offsetParent,e=c.ownerDocument,l=e.documentElement,g=e.body;b=(e=e.defaultView)?e.getComputedStyle(c,null):c.currentStyle;for(var j=c.offsetTop,n=c.offsetLeft;(c=c.parentNode)&&c!==g&&c!==l;){if(d.offset.supportsFixedPosition&&b.position==="fixed")break;b=e?e.getComputedStyle(c,null):c.currentStyle;j=j-c.scrollTop;n=n-c.scrollLeft;if(c===h){j=j+c.offsetTop;n=n+c.offsetLeft;if(d.offset.doesNotAddBorder&&(!d.offset.doesAddBorderForTableAndCells||!Ib.test(c.nodeName))){j=
j+(parseFloat(b.borderTopWidth)||0);n=n+(parseFloat(b.borderLeftWidth)||0)}h=c.offsetParent}if(d.offset.subtractsBorderForOverflowNotVisible&&b.overflow!=="visible"){j=j+(parseFloat(b.borderTopWidth)||0);n=n+(parseFloat(b.borderLeftWidth)||0)}}if(b.position==="relative"||b.position==="static"){j=j+g.offsetTop;n=n+g.offsetLeft}if(d.offset.supportsFixedPosition&&b.position==="fixed"){j=j+Math.max(l.scrollTop,g.scrollTop);n=n+Math.max(l.scrollLeft,g.scrollLeft)}return{top:j,left:n}};d.offset={initialize:function(){var a=
s.body,c=s.createElement("div"),b,h,e,l=parseFloat(d.css(a,"marginTop"))||0;d.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});c.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(c,
a.firstChild);b=c.firstChild;h=b.firstChild;e=b.nextSibling.firstChild.firstChild;this.doesNotAddBorder=h.offsetTop!==5;this.doesAddBorderForTableAndCells=e.offsetTop===5;h.style.position="fixed";h.style.top="20px";this.supportsFixedPosition=h.offsetTop===20||h.offsetTop===15;h.style.position=h.style.top="";b.style.overflow="hidden";b.style.position="relative";this.subtractsBorderForOverflowNotVisible=h.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==l;a.removeChild(c);d.offset.initialize=
d.noop},bodyOffset:function(a){var c=a.offsetTop,b=a.offsetLeft;d.offset.initialize();if(d.offset.doesNotIncludeMarginInBodyOffset){c=c+(parseFloat(d.css(a,"marginTop"))||0);b=b+(parseFloat(d.css(a,"marginLeft"))||0)}return{top:c,left:b}},setOffset:function(a,c,b){var h=d.css(a,"position");if(h==="static")a.style.position="relative";var e=d(a),l=e.offset(),g=d.css(a,"top"),j=d.css(a,"left"),n={},k={};if((h==="absolute"||h==="fixed")&&d.inArray("auto",[g,j])>-1){k=e.position();h=k.top;j=k.left}else{h=
parseFloat(g)||0;j=parseFloat(j)||0}d.isFunction(c)&&(c=c.call(a,b,l));if(c.top!=null)n.top=c.top-l.top+h;if(c.left!=null)n.left=c.left-l.left+j;"using"in c?c.using.call(a,n):e.css(n)}};d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],c=this.offsetParent(),b=this.offset(),h=Pa.test(c[0].nodeName)?{top:0,left:0}:c.offset();b.top=b.top-(parseFloat(d.css(a,"marginTop"))||0);b.left=b.left-(parseFloat(d.css(a,"marginLeft"))||0);h.top=h.top+(parseFloat(d.css(c[0],"borderTopWidth"))||
0);h.left=h.left+(parseFloat(d.css(c[0],"borderLeftWidth"))||0);return{top:b.top-h.top,left:b.left-h.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||s.body;a&&!Pa.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a})}});d.each(["Left","Top"],function(a,c){var b="scroll"+c;d.fn[b]=function(c){var h,l;if(c===e){h=this[0];if(!h)return null;return(l=p(h))?"pageXOffset"in l?l[a?"pageYOffset":"pageXOffset"]:d.support.boxModel&&l.document.documentElement[b]||
l.document.body[b]:h[b]}return this.each(function(){(l=p(this))?l.scrollTo(!a?c:d(l).scrollLeft(),a?c:d(l).scrollTop()):this[b]=c})}});d.each(["Height","Width"],function(a,c){var b=c.toLowerCase();d.fn["inner"+c]=function(){var a=this[0];return a&&a.style?parseFloat(d.css(a,b,"padding")):null};d.fn["outer"+c]=function(a){var c=this[0];return c&&c.style?parseFloat(d.css(c,b,a?"margin":"border")):null};d.fn[b]=function(a){var h=this[0];if(!h)return a==null?null:this;if(d.isFunction(a))return this.each(function(c){var h=
d(this);h[b](a.call(this,c,h[b]()))});if(d.isWindow(h)){var l=h.document.documentElement["client"+c],g=h.document.body;return h.document.compatMode==="CSS1Compat"&&l||g&&g["client"+c]||l}if(h.nodeType===9)return Math.max(h.documentElement["client"+c],h.body["scroll"+c],h.documentElement["scroll"+c],h.body["offset"+c],h.documentElement["offset"+c]);if(a===e){h=d.css(h,b);l=parseFloat(h);return d.isNaN(l)?h:l}return this.css(b,typeof a==="string"?a:a+"px")}});g.jQuery=g.$=d})(window);
(function(g){function e(b,e){for(var g=b.length;g--;)if(b[g]===e)return g;return-1}function b(b,e,g){var j,k,h,l;void 0===g&&(g=e,e="all");b=b.replace(/\s/g,"");j=b.split(",");""==j[j.length-1]&&(j[j.length-2]+=",");for(h=0;h<j.length;h++){k=[];b=j[h].split("+");if(1<b.length){k=b.slice(0,b.length-1);for(l=0;l<k.length;l++)k[l]=B[k[l]];b=[b[b.length-1]]}b=b[0];b=z[b]||b.toUpperCase().charCodeAt(0);b in q||(q[b]=[]);q[b].push({shortcut:j[h],scope:e,method:g,key:j[h],mods:k})}}function j(b,e,g){b.addEventListener?
b.addEventListener(e,g,!1):b.attachEvent&&b.attachEvent("on"+e,function(){g(window.event)})}var k,q={},o={16:!1,18:!1,17:!1,91:!1},w="all",B={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},z={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220};
for(k=1;20>k;k++)B["f"+k]=111+k;for(k in B)b[k]=!1;j(document,"keydown",function(g){var j,k,x,z,h;k=(g.target||g.srcElement).tagName;j=g.keyCode;if(93==j||224==j)j=91;if(j in o)for(x in o[j]=!0,B)B[x]==j&&(b[x]=!0);else if(!("INPUT"==k||"SELECT"==k||"TEXTAREA"==k)&&j in q)for(z=0;z<q[j].length;z++)if(k=q[j][z],k.scope==w||"all"==k.scope){h=0<k.mods.length;for(x in o)if(!o[x]&&-1<e(k.mods,+x)||o[x]&&-1==e(k.mods,+x))h=!1;if((0==k.mods.length&&!o[16]&&!o[18]&&!o[17]&&!o[91]||h)&&!1===k.method(g,k))g.preventDefault?
g.preventDefault():g.returnValue=!1,g.stopPropagation&&g.stopPropagation(),g.cancelBubble&&(g.cancelBubble=!0)}});j(document,"keyup",function(e){var e=e.keyCode,g;if(93==e||224==e)e=91;if(e in o)for(g in o[e]=!1,B)B[g]==e&&(b[g]=!1)});g.key=b;g.key.setScope=function(b){w=b||"all"};"undefined"!==typeof module&&(module.exports=key)})(this);
(function(g,e){var b,j=/:([\w\d]+)/g,k=/\?([^#]*)?$/,q=function(b){return Array.prototype.slice.call(b)},o=function(b){return"[object Function]"===Object.prototype.toString.call(b)},w=function(b){return"[object Array]"===Object.prototype.toString.call(b)},B=function(b){return decodeURIComponent((b||"").replace(/\+/g," "))},z=encodeURIComponent,A=function(b){return(""+b).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},u=function(b){return function(e,
g){return this.route.apply(this,[b,e,g])}},r={},x=!(!e.history||!history.pushState),H=[];b=function(){var h=q(arguments),e,j;b.apps=b.apps||{};if(0===h.length||h[0]&&o(h[0]))return b.apply(b,["body"].concat(h));if("string"==typeof(j=h.shift()))return e=b.apps[j]||new b.Application,e.element_selector=j,0<h.length&&g.each(h,function(b,h){e.use(h)}),e.element_selector!=j&&delete b.apps[j],b.apps[e.element_selector]=e};b.VERSION="0.7.0";b.addLogger=function(b){H.push(b)};b.log=function(){var h=q(arguments);
h.unshift("["+Date()+"]");g.each(H,function(e,g){g.apply(b,h)})};"undefined"!=typeof e.console?o(e.console.log.apply)?b.addLogger(function(){e.console.log.apply(e.console,arguments)}):b.addLogger(function(){e.console.log(arguments)}):"undefined"!=typeof console&&b.addLogger(function(){console.log.apply(console,arguments)});g.extend(b,{makeArray:q,isFunction:o,isArray:w,extend:g.extend});b.Object=function(b){return g.extend(this,b||{})};g.extend(b.Object.prototype,{escapeHTML:A,h:A,toHash:function(){var b=
{};g.each(this,function(e,g){o(g)||(b[e]=g)});return b},toHTML:function(){var b="";g.each(this,function(e,g){o(g)||(b+="<strong>"+e+"</strong> "+g+"<br />")});return b},keys:function(b){var e=[],g;for(g in this)(!o(this[g])||!b)&&e.push(g);return e},has:function(b){return this[b]&&""!==g.trim(this[b].toString())},join:function(){var b=q(arguments),e=b.shift();return b.join(e)},log:function(){b.log.apply(b,arguments)},toString:function(b){var e=[];g.each(this,function(g,j){(!o(j)||b)&&e.push('"'+g+
'": '+j.toString())});return"Sammy.Object: {"+e.join(",")+"}"}});b.DefaultLocationProxy=function(b,e){this.app=b;this.is_native=!1;this.has_history=x;this._startPolling(e)};b.DefaultLocationProxy.fullPath=function(b){var e=b.toString().match(/^[^#]*(#.+)$/);return[b.pathname,b.search,e?e[1]:""].join("")};b.DefaultLocationProxy.prototype={bind:function(){var h=this,l=this.app,j=b.DefaultLocationProxy;g(e).bind("hashchange."+this.app.eventNamespace(),function(b,g){!1===h.is_native&&!g&&(h.is_native=
!0,e.clearInterval(j._interval));l.trigger("location-changed")});x&&!l.disable_push_state&&(g(e).bind("popstate."+this.app.eventNamespace(),function(){l.trigger("location-changed")}),g("a").live("click.history-"+this.app.eventNamespace(),function(b){var g=j.fullPath(this);if(this.hostname==e.location.hostname&&l.lookupRoute("get",g))return b.preventDefault(),h.setLocation(g),!1}));j._bindings||(j._bindings=0);j._bindings++},unbind:function(){g(e).unbind("hashchange."+this.app.eventNamespace());g(e).unbind("popstate."+
this.app.eventNamespace());g("a").die("click.history-"+this.app.eventNamespace());b.DefaultLocationProxy._bindings--;0>=b.DefaultLocationProxy._bindings&&e.clearInterval(b.DefaultLocationProxy._interval)},getLocation:function(){return b.DefaultLocationProxy.fullPath(e.location)},setLocation:function(b){/^([^#\/]|$)/.test(b)&&(b=x?"/"+b:"#!/"+b);if(b!=this.getLocation())if(x&&/^\//.test(b))history.pushState({path:b},e.title,b),this.app.trigger("location-changed");else return e.location=b},_startPolling:function(h){var l=
this;if(!b.DefaultLocationProxy._interval){h||(h=10);var j=function(){var h=l.getLocation();("undefined"==typeof b.DefaultLocationProxy._last_location||h!=b.DefaultLocationProxy._last_location)&&e.setTimeout(function(){g(e).trigger("hashchange",[!0])},0);b.DefaultLocationProxy._last_location=h};j();b.DefaultLocationProxy._interval=e.setInterval(j,h)}}};b.Application=function(h){var e=this;this.routes={};this.listeners=new b.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+
"-"+parseInt(1E3*Math.random(),10);this.context_prototype=function(){b.EventContext.apply(this,arguments)};this.context_prototype.prototype=new b.EventContext;o(h)&&h.apply(this,[this]);this._location_proxy||this.setLocationProxy(new b.DefaultLocationProxy(this,this.run_interval_every));this.debug&&this.bindToAllEvents(function(b,h){e.log(e.toString(),b.cleaned_type,h||{})})};b.Application.prototype=g.extend({},b.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:"run,unload,lookup-route,run-route,route-found,event-context-before,event-context-after,changed,error,check-form-submission,redirect,location-changed".split(","),
_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(b){return b?g(this.element_selector).find(b):g(this.element_selector)},use:function(){var h=q(arguments),e=h.shift(),g=e||"";try{h.unshift(this),"string"==typeof e&&(g="Sammy."+e,e=b[e]),e.apply(this,h)}catch(j){"undefined"===typeof e?this.error("Plugin Error: called use() but plugin ("+
g.toString()+") is not defined",j):o(e)?this.error("Plugin Error",j):this.error("Plugin Error: called use() but '"+g.toString()+"' is not a function",j)}return this},setLocationProxy:function(b){var e=this._location_proxy;this._location_proxy=b;this.isRunning()&&(e&&e.unbind(),this._location_proxy.bind())},log:function(){b.log.apply(b,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(b,e,k){var y=this,q=[],r,u;!k&&o(e)&&(k=e=b,b="any");b=b.toLowerCase();if(e.constructor==
String){for(j.lastIndex=0;null!==(u=j.exec(e));)q.push(u[1]);e=RegExp(e.replace(j,"([^/]+)")+"$")}"string"==typeof k&&(k=y[k]);r=function(b){var h={verb:b,path:e,callback:k,param_names:q};y.routes[b]=y.routes[b]||[];y.routes[b].push(h)};"any"===b?g.each(this.ROUTE_VERBS,function(b,h){r(h)}):r(b);return this},get:u("get"),post:u("post"),put:u("put"),del:u("delete"),any:u("any"),mapRoutes:function(b){var e=this;g.each(b,function(b,h){e.route.apply(e,h)});return this},eventNamespace:function(){return["sammy-app",
this.namespace].join("-")},bind:function(b,e,g){var j=this;"undefined"==typeof g&&(g=e);e=function(b,h){var e;h&&h.context?(e=h.context,delete h.context):e=new j.context_prototype(j,"bind",b.type,h,b.target);b.cleaned_type=b.type.replace(j.eventNamespace(),"");g.apply(e,[b,h])};this.listeners[b]||(this.listeners[b]=[]);this.listeners[b].push(e);this.isRunning()&&this._listen(b,e);return this},trigger:function(b,e){this.$element().trigger([b,this.eventNamespace()].join("."),[e]);return this},refresh:function(){this.last_location=
null;this.trigger("location-changed");return this},before:function(b,e){o(b)&&(e=b,b={});this.befores.push([b,e]);return this},after:function(b){return this.bind("event-context-after",b)},around:function(b){this.arounds.push(b);return this},isRunning:function(){return this._running},helpers:function(b){g.extend(this.context_prototype.prototype,b);return this},helper:function(b,e){this.context_prototype.prototype[b]=e;return this},run:function(b){if(this.isRunning())return!1;var l=this;g.each(this.listeners.toHash(),
function(b,h){g.each(h,function(h,e){l._listen(b,e)})});this.trigger("run",{start_url:b});this._running=!0;this.last_location=null;!/\#(.+)/.test(this.getLocation())&&"undefined"!=typeof b&&this.setLocation(b);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){l._checkLocation()});this.bind("submit",function(b){return!1===l._checkFormSubmission(g(b.target).closest("form"))?b.preventDefault():!1});g(e).bind("beforeunload",function(){l.unload()});return this.trigger("changed")},
unload:function(){if(!this.isRunning())return!1;var b=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(b.eventNamespace());g.each(this.listeners.toHash(),function(e,j){g.each(j,function(g,j){b._unlisten(e,j)})});this._running=!1;return this},bindToAllEvents:function(b){var e=this;g.each(this.APP_EVENTS,function(g,j){e.bind(j,b)});g.each(this.listeners.keys(!0),function(j,k){-1==g.inArray(k,e.APP_EVENTS)&&e.bind(k,b)});return this},routablePath:function(b){return b.replace(k,
"")},lookupRoute:function(b,e){var g=!1,j=0,k,o;if("undefined"!=typeof this.routes[b])for(k=this.routes[b].length;j<k;j++)if(o=this.routes[b][j],this.routablePath(e).match(o.path)){g=o;break}return g},runRoute:function(b,e,j,k){var o=this,q=this.lookupRoute(b,e),r,u,v,C,D,w,p;this.log("runRoute",[b,e].join(" "));this.trigger("run-route",{verb:b,path:e,params:j});"undefined"==typeof j&&(j={});g.extend(j,this._parseQueryString(e));if(q){this.trigger("route-found",{route:q});if(null!==(w=q.path.exec(this.routablePath(e))))w.shift(),
g.each(w,function(b,h){q.param_names[b]?j[q.param_names[b]]=B(h):(j.splat||(j.splat=[]),j.splat.push(B(h)))});r=new this.context_prototype(this,b,e,j,k);k=this.arounds.slice(0);v=this.befores.slice(0);D=[r].concat(j.splat);u=function(){for(var b;0<v.length;)if(C=v.shift(),o.contextMatchesOptions(r,C[0])&&(b=C[1].apply(r,[r]),!1===b))return!1;o.last_route=q;r.trigger("event-context-before",{context:r});b=q.callback.apply(r,D);r.trigger("event-context-after",{context:r});return b};g.each(k.reverse(),
function(b,h){var d=u;u=function(){return h.apply(r,[d])}});try{p=u()}catch(s){this.error(["500 Error",b,e].join(" "),s)}return p}return this.notFound(b,e)},contextMatchesOptions:function(b,e,g){if("undefined"===typeof e||e=={})return!0;"undefined"===typeof g&&(g=!0);if("string"===typeof e||o(e.test))e={path:e};if(e.only)return this.contextMatchesOptions(b,e.only,!0);if(e.except)return this.contextMatchesOptions(b,e.except,!1);var j=!0,k=!0;e.path&&(o(e.path.test)||(e.path=RegExp(e.path.toString()+
"$")),j=e.path.test(b.path));e.verb&&(k="string"===typeof e.verb?e.verb===b.verb:-1<e.verb.indexOf(b.verb));return g?k&&j:!(k&&j)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(b){return this._location_proxy.setLocation(b)},swap:function(b){return this.$element().html(b)},templateCache:function(b,e){return"undefined"!=typeof e?r[b]=e:r[b]},clearTemplateCache:function(){return r={}},notFound:function(b,e){var g=this.error(["404 Not Found",b,e].join(" "));return"get"===
b?g:!0},error:function(b,e){e||(e=Error());e.message=[b,e.message].join(" ");this.trigger("error",{message:e.message,error:e});if(this.raise_errors)throw e;this.log(e.message,e)},_checkLocation:function(){var b,e;b=this.getLocation();if(!this.last_location||"get"!=this.last_location[0]||this.last_location[1]!=b)this.last_location=["get",b],e=this.runRoute("get",b);return e},_getFormVerb:function(b){var b=g(b),e,j;j=b.find('input[name="_method"]');0<j.length&&(e=j.val());e||(e=b[0].getAttribute("method"));
if(!e||""==e)e="get";return g.trim(e.toString().toLowerCase())},_checkFormSubmission:function(b){var e,j,k;this.trigger("check-form-submission",{form:b});e=g(b);j=e.attr("action")||"";k=this._getFormVerb(e);this.log("_checkFormSubmission",e,j,k);"get"===k?(e=this._serializeFormParams(e),""!==e&&(j+="?"+e),this.setLocation(j),b=!1):(e=g.extend({},this._parseFormParams(e)),b=this.runRoute(k,j,e,b.get(0)));return"undefined"==typeof b?!1:b},_serializeFormParams:function(b){var e="",b=b.serializeArray(),
g;if(0<b.length){e=this._encodeFormPair(b[0].name,b[0].value);for(g=1;g<b.length;g++)e=e+"&"+this._encodeFormPair(b[g].name,b[g].value)}return e},_encodeFormPair:function(b,e){return z(b)+"="+z(e)},_parseFormParams:function(b){var e={},b=b.serializeArray(),g;for(g=0;g<b.length;g++)e=this._parseParamPair(e,b[g].name,b[g].value);return e},_parseQueryString:function(b){var e={},g,j;if(b=b.match(k)){b=b[1].split("&");for(j=0;j<b.length;j++)g=b[j].split("="),e=this._parseParamPair(e,B(g[0]),B(g[1]||""))}return e},
_parseParamPair:function(b,e,g){b[e]?w(b[e])?b[e].push(g):b[e]=[b[e],g]:b[e]=g;return b},_listen:function(b,e){return this.$element().bind([b,this.eventNamespace()].join("."),e)},_unlisten:function(b,e){return this.$element().unbind([b,this.eventNamespace()].join("."),e)}});b.RenderContext=function(b){this.event_context=b;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=!1};b.RenderContext.prototype=g.extend({},b.Object.prototype,{then:function(b){if(!o(b))if("string"===
typeof b&&b in this.event_context)var g=this.event_context[b],b=function(b){return g.apply(this.event_context,[b])};else return this;var j=this;this.waiting?this.callbacks.push(b):(this.wait(),e.setTimeout(function(){var e=b.apply(j,[j.content,j.previous_content]);!1!==e&&j.next(e)},0));return this},wait:function(){this.waiting=!0},next:function(b){this.waiting=!1;"undefined"!==typeof b&&(this.previous_content=this.content,this.content=b);0<this.callbacks.length&&this.then(this.callbacks.shift())},
load:function(b,e,j){var k=this;return this.then(function(){var q,r,u;o(e)?(j=e,e={}):e=g.extend({},e);j&&this.then(j);if("string"===typeof b){q=(u=b.match(/\.json$/)||e.json)&&!0===e.cache||!1!==e.cache;k.next_engine=k.event_context.engineFor(b);delete e.cache;delete e.json;e.engine&&(k.next_engine=e.engine,delete e.engine);if(q&&(r=this.event_context.app.templateCache(b)))return r;this.wait();g.ajax(g.extend({url:b,data:{},dataType:u?"json":null,type:"get",success:function(e){q&&k.event_context.app.templateCache(b,
e);k.next(e)}},e));return!1}if(b.nodeType)return b.innerHTML;if(b.selector)return k.next_engine=b.attr("data-engine"),!1===e.clone?b.remove()[0].innerHTML.toString():b[0].innerHTML.toString()})},loadPartials:function(b){if(b)for(name in this.partials=this.partials||{},b)this.load(b[name]).then(function(b){this.partials[name]=b});return this},render:function(b,e,g,j){return o(b)&&!e?this.then(b):this.loadPartials(j).load(b).interpolate(e,b).then(g)},partial:function(b,e){return this.render(b,e).swap()},
send:function(){var b=this,e=q(arguments),g=e.shift();w(e[0])&&(e=e[0]);return this.then(function(){e.push(function(e){b.next(e)});b.wait();g.apply(g,e);return!1})},collect:function(b,e,j){var k=this,q=function(){o(b)&&(e=b,b=this.content);var j=[],n=!1;g.each(b,function(b,h){var g=e.apply(k,[b,h]);if(g.jquery&&g.length==1){g=g[0];n=true}j.push(g);return g});return n?j:j.join("")};return j?q():this.then(q)},renderEach:function(b,e,j,k){w(e)&&(k=j,j=e,e=null);return this.load(b).then(function(o){var q=
this;j||(j=w(this.previous_content)?this.previous_content:[]);if(k)g.each(j,function(g,j){var v={},n=this.next_engine||b;e?v[e]=j:v=j;k(j,q.event_context.interpolate(o,v,n))});else return this.collect(j,function(g,j){var k={},n=this.next_engine||b;e?k[e]=j:k=j;return this.event_context.interpolate(o,k,n)},true)})},interpolate:function(b,e,g){var j=this;return this.then(function(k,o){!b&&o&&(b=o);this.next_engine&&(e=this.next_engine,this.next_engine=!1);var q=j.event_context.interpolate(k,b,e,this.partials);
return g?o+q:q})},swap:function(){return this.then(function(b){this.event_context.swap(b)}).trigger("changed",{})},appendTo:function(b){return this.then(function(e){g(b).append(e)}).trigger("changed",{})},prependTo:function(b){return this.then(function(e){g(b).prepend(e)}).trigger("changed",{})},replace:function(b){return this.then(function(e){g(b).html(e)}).trigger("changed",{})},trigger:function(b,e){return this.then(function(g){"undefined"==typeof e&&(e={content:g});this.event_context.trigger(b,
e)})}});b.EventContext=function(e,g,j,k,o){this.app=e;this.verb=g;this.path=j;this.params=new b.Object(k);this.target=o};b.EventContext.prototype=g.extend({},b.Object.prototype,{$element:function(){return this.app.$element(q(arguments).shift())},engineFor:function(b){var e;if(o(b))return b;b=(b||this.app.template_engine).toString();if(e=b.match(/\.([^\.\?\#]+)$/))b=e[1];return b&&o(this[b])?this[b]:this.app.template_engine?this.engineFor(this.app.template_engine):function(b){return b}},interpolate:function(b,
e,g,j){return this.engineFor(g).apply(this,[b,e,j])},render:function(e,g,j,k){return(new b.RenderContext(this)).render(e,g,j,k)},renderEach:function(e,g,j,k){return(new b.RenderContext(this)).renderEach(e,g,j,k)},load:function(e,g,j){return(new b.RenderContext(this)).load(e,g,j)},partial:function(e,g){return(new b.RenderContext(this)).partial(e,g)},send:function(){var e=new b.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var b;b=q(arguments);var e=this.app.getLocation(),
j=b.length;if(1<j){for(var k=0,o=[],r=[],u={},w=!1;k<j;k++)"string"==typeof b[k]?o.push(b[k]):(g.extend(u,b[k]),w=!0);b=o.join("/");if(w){for(var v in u)r.push(this.app._encodeFormPair(v,u[v]));b+="?"+r.join("&")}}else b=b[0];this.trigger("redirect",{to:b});this.app.last_location=[this.verb,this.path];this.app.setLocation(b);RegExp(b).test(e)&&this.app.trigger("location-changed")},trigger:function(b,e){"undefined"==typeof e&&(e={});e.context||(e.context=this);return this.app.trigger(b,e)},eventNamespace:function(){return this.app.eventNamespace()},
swap:function(b){return this.app.swap(b)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(b){return g.parseJSON(b)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});g.sammy=e.Sammy=b})(jQuery,window);
(function(g){function e(b){b=unescape(b);return"true"===b?!0:"false"===b?!1:b}function b(j,k,q){var o;if(k.match(/^[^\[]+$/))j[k]=e(q);else if(o=k.match(/^([^\[]+)\[\](.*)$/)){k=o[1];o=o[2];if(j[k]&&!g.isArray(j[k]))throw"400 Bad Request";if(o){o=o.match(/^\[([^\]]+)\](.*)$/);if(!o)throw"400 Bad Request";j[k]?j[k][j[k].length-1][o[1]]?j[k].push(b({},o[1]+o[2],q)):g.extend(!0,j[k][j[k].length-1],b({},o[1]+o[2],q)):j[k]=[b({},o[1]+o[2],q)]}else j[k]?j[k].push(e(q)):j[k]=[e(q)]}else if(o=k.match(/^([^\[]+)\[([^\[]+)\](.*)$/)){k=
o[1];o=o[2]+o[3];if(j[k]&&g.isArray(j[k]))throw"400 Bad Request";j[k]?g.extend(!0,j[k],b(j[k],o,q)):j[k]=b({},o,q)}return j}Sammy=Sammy||{};Sammy.NestedParams=function(e){e._parseParamPair=b}})(jQuery);
(function(g){var e=function(){var b=Sammy.makeArray(arguments),e=b.shift(),g=b.shift();Sammy.isFunction(e)&&setTimeout(function(){e.apply(g||{},b)},0)};Sammy=Sammy||{};Sammy.Store=function(b){this.options=b||{};this.name=this.options.name||"store";this.app=this.options.app;if(Sammy.isArray(this.options.type))for(var b=0,e=this.options.type.length,g;b<e;b++){if(g=this.options.type[b],Sammy.Store.isAvailable(g)){this.type=g;break}}else this.type=this.options.type||"memory";this.storage=new Sammy.Store[Sammy.Store.stores[this.type]](this.name,
this.options)};Sammy.Store.stores={memory:"Memory",local:"LocalStorage",session:"SessionStorage",cookie:"Cookie"};Sammy.extend(Sammy.Store.prototype,{isAvailable:function(){return Sammy.isFunction(this.storage.isAvailable)?this.storage.isAvailable():!0},exists:function(b,e){this.storage.exists(b,e);return this},set:function(b,g,k){var q="string"==typeof g?g:JSON.stringify(g),o=this,b=b.toString();this.storage.set(b,q,function(){o.app&&(o.app.trigger("set-"+o.name,{key:b,value:g}),o.app.trigger("set-"+
o.name+"-"+b,{key:b,value:g}));e(k,o,g,b)});return this},get:function(b,g){var k=this;this.storage.get(b,function(b){var o;if("undefined"==typeof b||null===b||""===b)o=b;try{o=JSON.parse(b)}catch(w){o=b}e(g,k,o)});return this},clear:function(b,g){var k=this;this.storage.clear(b,function(){e(g,k)});return this},clearAll:function(b){var g=this;this.storage.clearAll(function(){e(b,g)});return this}});Sammy.Store.isAvailable=function(b){try{return Sammy.Store[Sammy.Store.stores[b]].prototype.isAvailable()}catch(e){return!1}};
Sammy.Store.Memory=function(b){this.name=b;Sammy.Store.Memory.store=Sammy.Store.Memory.store||{};Sammy.Store.Memory.store[this.name]=Sammy.Store.Memory.store[this.name]||{};this.store=Sammy.Store.Memory.store[this.name]};Sammy.extend(Sammy.Store.Memory.prototype,{isAvailable:function(){return!0},exists:function(b,g){return e(g,this,this.store.hasOwnProperty(b))},set:function(b,g,k){return e(k,this,this.store[b]=g,b)},get:function(b,g){return e(g,this,this.store[b])},clear:function(b,g){delete Sammy.Store.Memory.store[this.name][b];
return e(g,this,b)},clearAll:function(b){this.store=Sammy.Store.Memory.store[this.name]={};return e(b,this,!0)}});Sammy.Store.LocalStorage=function(b){this.name=b;this.key_prefix=["store",this.name].join(".");this.meta_key="__"+b+"_keys__"};Sammy.extend(Sammy.Store.LocalStorage.prototype,{storage:window.localStorage,isAvailable:function(){return null!==this.storage&&"file:"!=window.location.protocol},exists:function(b,g){this.get(b,function(b){e(g,this,null!==b)})},set:function(b,g,k){this.storage.setItem(this._key(b),
g);e(k,this,g,b)},get:function(b,g){var k=this.storage.getItem(this._key(b));k&&"undefined"!=typeof k.value&&(k=k.value);e(g,this,k)},clear:function(b,g){this.storage.removeItem(this._key(b));e(g,this,b)},clearAll:function(b){for(var g=0,k=this.storage.length,q,o=RegExp("^"+this.key_prefix.replace(".","\\.")+"\\.");g<k;g++)try{q=this.storage.key(g),o.test(q)&&this.storage.removeItem(q)}catch(w){}e(b,this,!0)},_key:function(b){return[this.key_prefix,b].join(".")}});Sammy.Store.SessionStorage=function(b){this.name=
b;this.key_prefix=["store",this.name].join(".");this.meta_key="__"+b+"_keys__"};Sammy.extend(Sammy.Store.SessionStorage.prototype,Sammy.Store.LocalStorage.prototype,{storage:window.sessionStorage});Sammy.Store.Cookie=function(b,e){this.name=b;this.options=e||{};this.path=this.options.path||"/";this.expires_in=this.options.expires_in||1209600};g.extend(Sammy.Store.Cookie.prototype,{isAvailable:function(){return"cookie"in document&&"file:"!=window.location.protocol},exists:function(b,g){this.get(b,
function(b){e(g,this,null!==b)})},set:function(b,g,k){this._setCookie(b,g);e(k,!1,g,b)},get:function(b,g){e(g,!1,this._getCookie(b))},clear:function(b,g){this._setCookie(b,"",-1);e(g,!1,b)},clearAll:function(b){e(b,!0)},_key:function(b){return["store",this.name,b].join(".")},_escapedKey:function(b){return b.replace(/(\.|\*|\(|\)|\[|\])/g,"\\$1")},_getCookie:function(b){return(b=document.cookie.match("(^|;\\s)"+this._escapedKey(this._key(b))+"=([^;]*)(;|$)"))?b[2]:null},_setCookie:function(b,e,g){g||
(g=1E3*this.expires_in);var q=new Date;q.setTime(q.getTime()+g);b=[this._key(b),"=",e,"; expires=",q.toGMTString(),"; path=",this.path].join("");document.cookie=b}});Sammy.Storage=function(){this.stores=this.stores||{};this.store=function(b,e){if("undefined"==typeof this.stores[b]){var k="clear"+b.substr(0,1).toUpperCase()+b.substr(1);this.stores[b]=new Sammy.Store(g.extend({name:b,element:this.element_selector},e||{}));this[b]=function(e,g,j){return"undefined"==typeof e?this.stores[b]:"undefined"==
typeof j&&Sammy.isFunction(g)?this.stores[b].get(e,g):this.stores[b].set(e,g,j)};this[k]=function(e){return this.stores[b].clearAll(e)};this.helper(b,function(){return this.app[b].apply(this.app,arguments)});this.helper(k,function(b){return this.app[k](b)})}return this.stores[b]};this.helpers({store:function(){return this.app.store.apply(this.app,arguments)}})};Sammy.Session=function(b,e){this.use("Storage");this.store("session",g.extend({type:["local","cookie","memory"]},e))};Sammy.Cache=function(b,
e){this.use("Storage");this.cache_partials=!0;this.store("cache",g.extend({type:["local","session","memory"]},e))}})(jQuery);
var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind();jscolor.preloading&&jscolor.preload()},getDir:function(){return"/images/"},bind:function(){for(var g=RegExp("(^|\\s)("+jscolor.bindClass+")\\s*(\\{[^}]*\\})?","i"),e=document.getElementsByTagName("input"),b=0;b<e.length;b+=1){var j;if(!e[b].color&&e[b].className&&(j=e[b].className.match(g))){if(j[3])try{eval("prop="+j[3])}catch(k){}e[b].color=
new jscolor.color(e[b],{})}}},preload:function(){for(var g in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(g)&&jscolor.loadImage(g)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(g){jscolor.imgRequire[g]=!0},loadImage:function(g){jscolor.imgLoaded[g]||(jscolor.imgLoaded[g]=new Image,jscolor.imgLoaded[g].src="/images/"+g)},fetchElement:function(g){return"string"===typeof g?document.getElementById(g):g},addEvent:function(g,e,
b){g.addEventListener?g.addEventListener(e,b,!1):g.attachEvent&&g.attachEvent("on"+e,b)},fireEvent:function(g,e){if(g)if(document.createEvent){var b=document.createEvent("HTMLEvents");b.initEvent(e,!0,!0);g.dispatchEvent(b)}else if(document.createEventObject)b=document.createEventObject(),g.fireEvent("on"+e,b);else if(g["on"+e])g["on"+e]()},getElementPos:function(g){var e=g,b=0,j=0;if(e.offsetParent){do b+=e.offsetLeft,j+=e.offsetTop;while(e=e.offsetParent)}for(;(g=g.parentNode)&&"BODY"!==g.nodeName.toUpperCase();)b-=
g.scrollLeft,j-=g.scrollTop;return[b,j]},getElementSize:function(g){return[g.offsetWidth,g.offsetHeight]},getRelMousePos:function(g){var e=0,b=0;g||(g=window.event);"number"===typeof g.offsetX?(e=g.offsetX,b=g.offsetY):"number"===typeof g.layerX&&(e=g.layerX,b=g.layerY);return{x:e,y:b}},getViewPos:function(){return"number"===typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:
document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"===typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?
[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},color:function(g,e){function b(b,e,g){if(null===b)return[g,g,g];var h=Math.floor(b),j=g*(1-e),b=g*(1-e*(h%2?b-h:1-(b-h)));switch(h){case 6:case 0:return[g,b,j];case 1:return[b,g,j];case 2:return[j,g,b];case 3:return[j,b,g];case 4:return[b,j,g];case 5:return[g,j,b]}}function j(b,e){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),
padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(r.pickerCloseText)};for(var j=0;j<jscolor.images.sld[1];j+=4){var l=document.createElement("div");l.style.height="4px";l.style.fontSize="1px";l.style.lineHeight="0";jscolor.picker.sld.appendChild(l)}jscolor.picker.sldB.appendChild(jscolor.picker.sld);
jscolor.picker.box.appendChild(jscolor.picker.sldB);jscolor.picker.box.appendChild(jscolor.picker.sldM);jscolor.picker.padB.appendChild(jscolor.picker.pad);jscolor.picker.box.appendChild(jscolor.picker.padB);jscolor.picker.box.appendChild(jscolor.picker.padM);jscolor.picker.btnS.appendChild(jscolor.picker.btnT);jscolor.picker.btn.appendChild(jscolor.picker.btnS);jscolor.picker.box.appendChild(jscolor.picker.btn);jscolor.picker.boxB.appendChild(jscolor.picker.box)}var p=jscolor.picker;p.box.onmouseup=
p.box.onmouseout=function(){g.focus()};p.box.onmousedown=function(){H=!0};p.box.onmousemove=function(b){if(n||y)n&&z(b),y&&A(b),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()};p.padM.onmouseup=p.padM.onmouseout=function(){n&&(n=!1,jscolor.fireEvent(h,"change"))};p.padM.onmousedown=function(b){n=!0;z(b)};p.sldM.onmouseup=p.sldM.onmouseout=function(){y&&(y=!1,jscolor.fireEvent(h,"change"))};p.sldM.onmousedown=function(b){y=!0;A(b)};j=k(r);
p.box.style.width=j[0]+"px";p.box.style.height=j[1]+"px";p.boxB.style.position="absolute";p.boxB.style.clear="both";p.boxB.style.left=b+"px";p.boxB.style.top=e+"px";p.boxB.style.zIndex=r.pickerZIndex;p.boxB.style.border=r.pickerBorder+"px solid";p.boxB.style.borderColor=r.pickerBorderColor;p.boxB.style.background=r.pickerFaceColor;p.pad.style.width=jscolor.images.pad[0]+"px";p.pad.style.height=jscolor.images.pad[1]+"px";p.padB.style.position="absolute";p.padB.style.left=r.pickerFace+"px";p.padB.style.top=
r.pickerFace+"px";p.padB.style.border=r.pickerInset+"px solid";p.padB.style.borderColor=r.pickerInsetColor;p.padM.style.position="absolute";p.padM.style.left="0";p.padM.style.top="0";p.padM.style.width=r.pickerFace+2*r.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px";p.padM.style.height=p.box.style.height;p.padM.style.cursor="crosshair";p.sld.style.overflow="hidden";p.sld.style.width=jscolor.images.sld[0]+"px";p.sld.style.height=jscolor.images.sld[1]+"px";p.sldB.style.display=r.slider?
"block":"none";p.sldB.style.position="absolute";p.sldB.style.right=r.pickerFace+"px";p.sldB.style.top=r.pickerFace+"px";p.sldB.style.border=r.pickerInset+"px solid";p.sldB.style.borderColor=r.pickerInsetColor;p.sldM.style.display=r.slider?"block":"none";p.sldM.style.position="absolute";p.sldM.style.right="0";p.sldM.style.top="0";p.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+r.pickerFace+2*r.pickerInset+"px";p.sldM.style.height=p.box.style.height;try{p.sldM.style.cursor="pointer"}catch(s){p.sldM.style.cursor=
"hand"}p.btn.style.display=r.pickerClosable?"block":"none";p.btn.style.position="absolute";p.btn.style.left=r.pickerFace+"px";p.btn.style.bottom=r.pickerFace+"px";p.btn.style.padding="0 15px";p.btn.style.height="18px";p.btn.style.border=r.pickerInset+"px solid";(function(){var b=r.pickerInsetColor.split(/\s+/);p.btn.style.borderColor=2>b.length?b[0]:b[1]+" "+b[0]+" "+b[0]+" "+b[1]})();p.btn.style.color=r.pickerButtonColor;p.btn.style.font="12px sans-serif";p.btn.style.textAlign="center";try{p.btn.style.cursor=
"pointer"}catch(u){p.btn.style.cursor="hand"}p.btn.onmousedown=function(){r.hidePicker()};p.btnS.style.lineHeight=p.btn.style.height;switch(x){case 0:var w="hs.png";break;case 1:w="hv.png"}p.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')";p.padM.style.backgroundRepeat="no-repeat";p.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')";p.sldM.style.backgroundRepeat="no-repeat";p.pad.style.backgroundImage="url('"+jscolor.getDir()+w+"')";p.pad.style.backgroundRepeat="no-repeat";
p.pad.style.backgroundPosition="0 0";q();o();jscolor.picker.owner=r;document.getElementsByTagName("body")[0].appendChild(p.boxB)}function k(b){return[2*b.pickerInset+2*b.pickerFace+jscolor.images.pad[0]+(b.slider?2*b.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),b.pickerClosable?4*b.pickerInset+3*b.pickerFace+jscolor.images.pad[1]+b.pickerButtonHeight:2*b.pickerInset+2*b.pickerFace+jscolor.images.pad[1]]}function q(){switch(x){case 0:var e=1;break;case 1:e=2}var g=Math.round(r.hsv[0]/
6*(jscolor.images.pad[0]-1)),e=Math.round((1-r.hsv[e])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=r.pickerFace+r.pickerInset+g-Math.floor(jscolor.images.cross[0]/2)+"px "+(r.pickerFace+r.pickerInset+e-Math.floor(jscolor.images.cross[1]/2))+"px";g=jscolor.picker.sld.childNodes;switch(x){case 0:for(var h=b(r.hsv[0],r.hsv[1],1),e=0;e<g.length;e+=1)g[e].style.backgroundColor="rgb("+100*h[0]*(1-e/g.length)+"%,"+100*h[1]*(1-e/g.length)+"%,"+100*h[2]*(1-e/g.length)+"%)";break;
case 1:var j,k=[r.hsv[2],0,0],e=Math.floor(r.hsv[0]),l=e%2?r.hsv[0]-e:1-(r.hsv[0]-e);switch(e){case 6:case 0:h=[0,1,2];break;case 1:h=[1,0,2];break;case 2:h=[2,0,1];break;case 3:h=[2,1,0];break;case 4:h=[1,2,0];break;case 5:h=[0,2,1]}for(e=0;e<g.length;e+=1)j=1-1/(g.length-1)*e,k[1]=k[0]*(1-j*l),k[2]=k[0]*(1-j),g[e].style.backgroundColor="rgb("+100*k[h[0]]+"%,"+100*k[h[1]]+"%,"+100*k[h[2]]+"%)"}}function o(){switch(x){case 0:var b=2;break;case 1:b=1}b=Math.round((1-r.hsv[b])*(jscolor.images.sld[1]-
1));jscolor.picker.sldM.style.backgroundPosition="0 "+(r.pickerFace+r.pickerInset+b-Math.floor(jscolor.images.arrow[1]/2))+"px"}function w(){return jscolor.picker&&jscolor.picker.owner===r}function B(){h!==g&&r.importColor()}function z(b){var e=jscolor.getRelMousePos(b),b=e.x-r.pickerFace-r.pickerInset,e=e.y-r.pickerFace-r.pickerInset;switch(x){case 0:r.fromHSV(b*(6/(jscolor.images.pad[0]-1)),1-e/(jscolor.images.pad[1]-1),null,I);break;case 1:r.fromHSV(b*(6/(jscolor.images.pad[0]-1)),null,1-e/(jscolor.images.pad[1]-
1),I)}}function A(b){b=jscolor.getRelMousePos(b).y-r.pickerFace-r.pickerInset;switch(x){case 0:r.fromHSV(null,null,1-b/(jscolor.images.sld[1]-1),N);break;case 1:r.fromHSV(null,1-b/(jscolor.images.sld[1]-1),null,N)}}this.adjust=this.required=!0;this.hash=!1;this.slider=this.caps=!0;this.styleElement=this.valueElement=g;this.hsv=[0,0,1];this.rgb=[1,1,1];this.pickerOnfocus=!0;this.pickerMode="HSV";this.pickerPosition="bottom";this.pickerButtonHeight=20;this.pickerClosable=!1;this.pickerCloseText="Close";
this.pickerButtonColor="ButtonText";this.pickerFace=10;this.pickerFaceColor="ThreeDFace";this.pickerBorder=1;this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight";this.pickerInset=1;this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow";this.pickerZIndex=1E4;for(var u in e)e.hasOwnProperty(u)&&(this[u]=e[u]);this.hidePicker=function(){w()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))};
this.showPicker=function(){if(!w()){var b=jscolor.getElementPos(g),e=jscolor.getElementSize(g),h=jscolor.getViewPos(),l=jscolor.getViewSize(),o=k(this),n,q,r;switch(this.pickerPosition.toLowerCase()){case "left":n=1;q=0;r=-1;break;case "right":n=1;q=0;r=1;break;case "top":n=0;q=1;r=-1;break;default:n=0,r=q=1}var d=(e[q]+o[q])/2,b=[-h[n]+b[n]+o[n]>l[n]?-h[n]+b[n]+e[n]/2>l[n]/2&&0<=b[n]+e[n]-o[n]?b[n]+e[n]-o[n]:b[n]:b[n],-h[q]+b[q]+e[q]+o[q]-d+d*r>l[q]?-h[q]+b[q]+e[q]/2>l[q]/2&&0<=b[q]+e[q]-d-d*r?b[q]+
e[q]-d-d*r:b[q]+e[q]-d+d*r:0<=b[q]+e[q]-d+d*r?b[q]+e[q]-d+d*r:b[q]+e[q]-d-d*r];j(b[n],b[q])}};this.importColor=function(){h?this.adjust?!this.required&&/^\s*$/.test(h.value)?(h.value="",l.style.backgroundColor=l.jscStyle.backgroundColor,l.style.color=l.jscStyle.color,this.exportColor(F|G)):this.fromString(h.value)||this.exportColor():this.fromString(h.value,F)||(l.style.backgroundColor=l.jscStyle.backgroundColor,l.style.color=l.jscStyle.color,this.exportColor(F|G)):this.exportColor()};this.exportColor=
function(b){if(!(b&F)&&h){var e=this.toString();this.caps&&(e=e.toUpperCase());this.hash&&(e="#"+e);h.value=e}!(b&G)&&l&&(l.style.backgroundColor="#"+this.toString(),l.style.color=0.5>0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]?"#FFF":"#000");!(b&N)&&w()&&q();!(b&I)&&w()&&o()};this.fromHSV=function(e,g,h,j){0>e&&(e=0)||6<e&&(e=6);0>g&&(g=0)||1<g&&(g=1);0>h&&(h=0)||1<h&&(h=1);this.rgb=b(null===e?this.hsv[0]:this.hsv[0]=e,null===g?this.hsv[1]:this.hsv[1]=g,null===h?this.hsv[2]:this.hsv[2]=
h);this.exportColor(j)};this.fromRGB=function(b,e,g,h){0>b&&(b=0)||1<b&&(b=1);0>e&&(e=0)||1<e&&(e=1);0>g&&(g=0)||1<g&&(g=1);var b=null===b?this.rgb[0]:this.rgb[0]=b,e=null===e?this.rgb[1]:this.rgb[1]=e,j=null===g?this.rgb[2]:this.rgb[2]=g,k=Math.min(Math.min(b,e),j),g=Math.max(Math.max(b,e),j),l=g-k;0===l?b=[null,0,g]:(b=b===k?3+(j-e)/l:e===k?5+(b-j)/l:1+(e-b)/l,b=[6===b?0:b,l/g,g]);null!==b[0]&&(this.hsv[0]=b[0]);0!==b[2]&&(this.hsv[1]=b[1]);this.hsv[2]=b[2];this.exportColor(h)};this.fromString=
function(b,e){var g=b.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return g?(6===g[1].length?this.fromRGB(parseInt(g[1].substr(0,2),16)/255,parseInt(g[1].substr(2,2),16)/255,parseInt(g[1].substr(4,2),16)/255,e):this.fromRGB(parseInt(g[1].charAt(0)+g[1].charAt(0),16)/255,parseInt(g[1].charAt(1)+g[1].charAt(1),16)/255,parseInt(g[1].charAt(2)+g[1].charAt(2),16)/255,e),!0):!1};this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+
(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var r=this,x="hvs"===this.pickerMode.toLowerCase()?1:0,H=!1,h=jscolor.fetchElement(this.valueElement),l=jscolor.fetchElement(this.styleElement),n=!1,y=!1,F=1,G=2,N=4,I=8;jscolor.addEvent(g,"focus",function(){r.pickerOnfocus&&r.showPicker()});jscolor.addEvent(g,"blur",function(){H?H=!1:window.setTimeout(function(){H||(h===g&&r.importColor(),r.pickerOnfocus&&r.hidePicker());H=!1},0)});h&&(u=function(){r.fromString(h.value,F)},jscolor.addEvent(h,
"keyup",u),jscolor.addEvent(h,"input",u),jscolor.addEvent(h,"blur",B),h.setAttribute("autocomplete","off"));l&&(l.jscStyle={backgroundColor:l.style.backgroundColor,color:l.style.color});switch(x){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif");jscolor.requireImage("arrow.gif");this.importColor()}};jscolor.install();(function(g){g.extend(g.fn,{dimensions:function(){var e=g(this);return{width:e.width(),height:e.height()}}})})(jQuery);
Graphiti=window.Graphiti||{};Graphiti.Graph=function(g){this.options={};this.targets=[];this.parsedTargets=[];var e={width:950,height:400,from:"-6hour",fontSize:"10",title:"",targets:[]};g.options?$.extend(!0,this.options,e,g.options):$.extend(!0,this.options,e);if(g.targets)for(var b=0,j=g.targets.length;b<j;b++)this.addTarget(g.targets[b]);!g.options&&!g.targets&&(g.charCodeAt?this.addTarget(g):g instanceof Array?this.addTarget(g):$.extend(this.options,e,g))};
Graphiti.Graph.prototype={urlBase:function(){return Graphiti.graphite_base_url+"/render/?"}(),updateOptions:function(g){$.extend(!0,this.options,g||{})},addTarget:function(g){var e="",b,j;if("string"==typeof g)b=g;else for(option in b=g[0],j=g[1],j){var k=option,e=j[option];"mostDeviant"==k?(e=JSON.stringify(e),b=[k,"(",e,",",b,")"].join("")):!0!==e?(e=JSON.stringify(e),b=""+k+"("+b+","+("["===e[0]&&e.substr(1,e.length-2)||e)+")"):b=[k,"(",b,")"].join("")}this.targets.push(g);this.parsedTargets.push(b);
return this},buildURL:function(){var g=this.urlBase,e=[];$.each(this.options,function(b,g){e.push(b+"="+encodeURIComponent(g))});$.each(this.parsedTargets,function(b,g){e.push("target="+encodeURIComponent(g))});e.push("_timestamp_="+(new Date).getTime());return g+e.join("&")+"#.png"},image:function(g){this.updateOptions(g.dimensions());g.bind("load",function(){$(this).removeClass("loading")}).addClass("loading").attr("src",this.buildURL());return g},toJSON:function(){return JSON.stringify({options:this.options,
targets:this.targets},null,2)},save:function(g,e){var b,j={graph:{title:this.options.title||"Untitled",url:this.buildURL(),json:this.toJSON()}};$.isFunction(g)&&(e=g,g=null);g?(b="/graphs/"+g,j._method="PUT"):b="/graphs";$.ajax({url:b,data:j,type:"post",success:e})},snapshot:function(g,e){$.ajax({type:"post",dataType:"json",url:"/graphs/"+g+"/snapshot",success:function(b){e(b.url)}})}};
var app=Sammy("body",function(){this.use("Session");this.use("NestedParams");var g=require("pilot/canon");this.registerShortcut=function(e,b,j){var k=this;k.bind(e,j);g.addCommand({name:e,bindKey:{win:"Ctrl-"+b,mac:"Command-"+b,sender:"editor"},exec:function(){k.trigger(e)}});key("command+"+b,function(){k.trigger(e);return!1})};this.helpers({showPane:function(e,b){var g="#"+e+"-pane";$(".pane:not("+g+")").hide();g=$(g);b&&g.html(b);return g.show()},setupEditor:function(){if(!this.app.editor){var e=
this.app.editor=ace.edit("editor");e.setTheme("ace/theme/textmate");var b=require("ace/mode/json").Mode,e=e.getSession();e.setMode(new b);e.setUseSoftTabs(!0);e.setTabSize(2)}},redrawPreview:function(){try{this.log("redraw"),this.graphPreview(this.getEditorJSON())}catch(e){alert(e)}return!1},showEditor:function(e,b){this.showPane("editor");e||(e=defaultGraph);this.setupEditor();e=this.setEditorJSON(e);$("#editor").show();this.graphPreview(JSON.parse(e));this.buildDashboardsDropdown(b);b?($("#graph-actions form").attr("data-action",
function(e,g){g&&$(this).attr("action",g.replace(/:uuid/,b))}).show(),$("[name=uuid]").val(b),$("#graph-actions").find(".update, .dashboard, .snapshots").show()):$("#graph-actions").find(".update, .dashboard, .snapshots").hide();this.toggleEditorPanesByPreference()},getEditorJSON:function(){return JSON.parse(this.app.editor.getSession().getValue())},setEditorJSON:function(e){"string"!=typeof e&&(e=JSON.stringify(e,null,2));this.app.editor.getSession().setValue(e);return e},graphPreview:function(e){this.session("lastPreview",
e,function(){var b=$("#graph-preview img"),g=$("#graph-url input"),k=new Graphiti.Graph(e);k.image(b);g.val(k.buildURL())});this.updateOptionsForm(e)},updateOptionsForm:function(e){var e=e.options?e.options:e,b,g=$("#graph-options form");for(b in e)if(""!=e[b]){var k=g.find('[name="options['+b+']"]');k.is(":checkbox")?k.prop("checked",e[b]):k.val(e[b])}},saveOptions:function(e){var b=this.getEditorJSON();b.options=e;this.graphPreview(b);this.setEditorJSON(b)},buildMetricsList:function(e,b){var g=
e.find("li:first").clone();e.html("");for(var k=0,q=b.length;k<q;k++)Sammy.log(b[k]),g.clone().attr("id","metric_list_metric_"+k).find("strong").text(b[k]).end().appendTo(e).show()},buildSuggestionsList:function(e,b,g){var k=e.find("li:first").clone();e.html("");for(var q=0,o=g.length;q<o;q++){var w=0<b.length?b+"."+g[q]:g[q];k.clone().attr("id","suggestion_"+q).find("span.search").text(w).end().find("strong.keyword").text(g[q]).end().appendTo(e).show()}},bindMetricsList:function(){var e=this,b=$("#metrics-list ul.results"),
g=$("#metrics-list ul.suggestions"),k;$("#metrics-menu").find('input[type="search"]').live("keyup",function(){var b=$(this).val();k&&clearTimeout(k);k=setTimeout(function(){e.searchMetricsList(b)},200)}).live("keypress",function(b){9==b.keyCode&&(b.preventDefault(),g.is(":visible")&&g.find("li:first a").click())});b.delegate("li a","click",function(b){b.preventDefault();var b=$(this).attr("rel"),g=$(this).siblings("strong").text();Sammy.log("clicked",b,g);e[b+"GraphMetric"](g)}).addClass(".bound");
g.delegate("li a","click",function(b){b.preventDefault();b=$(this).find("span.search").text();Sammy.log("search suggestion clicked",b);e.setSearch(b+".")}).addClass(".bound")},metricRequestPending:0,keywordRequestPending:0,searchMetricsList:function(e){var b=this,g=$("#metrics-list ul.results"),k=$("#metrics-list ul.suggestions"),q=$("#metrics-list .loading"),o=$("#metrics-list .empty");if(4<=e.length){var w;w="/metrics.js?q="+e;o.hide();q.show();var B=++b.metricRequestPending;this.load(w).then(function(e){B==
b.metricRequestPending&&(e=e.metrics,q.hide(),0<e.length?(g.show(),b.buildMetricsList(g,e)):(g.hide(),o.show()))})}if(2<=e.length){var e=e.split(/[\. ]/),z="";1<e.length&&(z=e.splice(0,e.length-1).join("."));e=e[e.length-1];if(2<=e.length){var A=++b.keywordRequestPending;this.load("/keywords.js"+("?q="+e+"&max=5")).then(function(e){A==b.keywordRequestPending&&(e=e.keywords,0<e.length?(k.show(),b.buildSuggestionsList(k,z,e)):k.hide())})}else k.hide()}else o.show(),g.hide(),k.hide()},addGraphMetric:function(e){var b=
this.getEditorJSON();b.targets.push([e,{}]);this.graphPreview(b);this.setEditorJSON(b)},replaceGraphMetric:function(e){var b=this.getEditorJSON();b.targets=[[e,{}]];this.graphPreview(b);this.setEditorJSON(b)},setSearch:function(e){var b=$("#metrics-menu").find('input[type="search"]');b.val(e);this.searchMetricsList(e);b.focus()},timestamp:function(e){"string"==typeof e&&(e=parseInt(e,10));return(new Date(1E3*e)).toString()},buildDashboardsDropdown:function(e){this.load("/dashboards.js",{cache:!1,
data:{uuid:e}}).then(function(b){var e=$('select[name="dashboard"]');e.html("");for(var b=b.dashboards,g=0,q=b.length,o;g<q;g++)o=b[g],$("<option />",{value:o.slug,text:o.title}).appendTo(e)})},buildSnapshotsDropdown:function(e,b){var g=$('select[name="snapshot"]');b&&g.html("");for(var k=0,q=e.length,o,w;k<q;k++)o=e[k],w=this.snapshotURLToDate(o),$("<option />",{value:o,text:w}).prependTo(g).attr("selected","selected")},loadAndRenderGraphs:function(e){var b=this.showPane("graphs"," ");this.load(e,
{cache:!1}).then(function(e){var g="All Graphs",q;e.title?(q=!1,g=e.title):q=!0;b.append("<h2>"+g+"</h2>");var g=e.graphs,o=0,w=g.length,B=$("#templates .graph").clone(),z,A;if(0==e.graphs.length)return b.append($("#graphs-empty")),!0;for(;o<w;o++)z=g[o],A=new Graphiti.Graph(JSON.parse(z.json)),B.clone().find(".title").text(z.title||"Untitled").end().find("a.edit").attr("href","/graphs/"+z.uuid).end().show().appendTo(b).each(function(){A.image($(this).find("img"));(o+1)%2==0&&$(this).addClass("last");
q?$(this).find(".delete").attr("action","/graphs/"+z.uuid):$(this).find(".delete").attr("action","/graphs/dashboards").find("[name=dashboard]").val(e.slug).end().find("[name=uuid]").val(z.uuid).end().find("[type=submit]").val("Remove")})})},loadAndRenderDashboards:function(){var e=this.showPane("dashboards","<h2>Dashboards</h2>"),b=this;this.load("/dashboards.js",{cache:!1}).then(function(g){var g=g.dashboards,k=0,q=g.length,o,w,B=$("#templates .dashboard").clone();if(0==g.length)e.append($("#dashboards-empty"));
else for(;k<q;k++)o=g[k],w=0==(k+1)%2?"alt":"",B.clone().find("a.view").attr("href","/dashboards/"+o.slug).end().find(".title").text(o.title).end().find(".graphs-count").text(o.graphs.length).end().find(".updated-at").text(b.timestamp(o.updated_at)).end().find("form.delete").attr("action","/dashboards/"+o.slug).end().addClass(w).show().appendTo(e)})},loadAndRenderSnapshots:function(){var e=this;this.load("/graphs/"+this.params.uuid+".js",{cache:!1}).then(function(b){for(var g=e.showPane("snapshots",
"<h2>"+b.title+" - Snapshots</h2>"),b=b.snapshots,k=0,q=b.length,o,w=$("#templates .snapshot").clone();k<q;k++)o=b[k],w.clone().find("a.view").attr("href",o).end().find("img").attr("src",o).end().find("h3.title").text(e.snapshotURLToDate(o)).end().show().appendTo(g)})},snapshotURLToDate:function(e){var b;try{b=(new Date(parseInt(e.match(/\/(\d+)\.png/)[1],10))).toString()}catch(g){}return b},bindEditorPanes:function(){var e=this;$("#editor-pane").delegate(".edit-group .edit-head","click",function(b){b.preventDefault();
var b=$(this).add($(this).siblings(".edit-body")),g=b.parents(".edit-group").attr("data-group");b.is(".closed")?(b.removeClass("closed").addClass("open"),e.session("groups:"+g,!0)):(b.addClass("closed").removeClass("open"),e.session("groups:"+g,!1))})},toggleEditorPanesByPreference:function(){var e=this;$("#editor-pane .edit-group").each(function(){var b=$(this),g=b.attr("data-group"),k=b.find(".edit-head, .edit-body");e.session("groups:"+g,function(b){b?k.removeClass("closed").addClass("open"):k.removeClass("open").addClass("closed")})})},
confirmDelete:function(e){return confirm("Are you sure you want to delete this "+e+"? There is no undo. You may regret this later.")},showSaving:function(){this.$button=$(this.target).find("input");this.original_button_val=this.$button.val();this.$button.val("Saving").attr("disabled","disabled")},hideSaving:function(){this.$button.val(this.original_button_val).removeAttr("disabled")}});this.before({only:{verb:"get"}},function(){this.showPane("loading")});this.get("/graphs/new",function(e){this.session("lastPreview",
Graphiti.defaultGraph,function(){e.redirect("/graphs/workspace")})});this.get("/graphs/workspace",function(e){this.session("lastPreview",function(b){e.showEditor(b)})});this.get("/graphs/:uuid",function(e){this.load("/graphs/"+this.params.uuid+".js",{cache:!1}).then(function(b){e.buildSnapshotsDropdown(b.snapshots,!0);e.showEditor(b.json,e.params.uuid)})});this.get("/graphs/:uuid/snapshots",function(){this.params.snapshot?(window.open(this.params.snapshot,this.snapshotURLToDate(this.params.snapshot)),
this.redirect("/graphs",this.params.uuid)):this.loadAndRenderSnapshots()});this.get("/graphs",function(){this.loadAndRenderGraphs("/graphs.js")});this.get("/dashboards/:slug",function(){this.loadAndRenderGraphs("/dashboards/"+this.params.slug+".js")});this.get("/dashboards",function(){this.loadAndRenderDashboards()});this.del("/dashboards/:slug",function(e){var b=this.params.slug;this.confirmDelete("dashboard")&&$.ajax({type:"post",data:"_method=DELETE",url:"/dashboards/"+b,complete:function(){e.loadAndRenderDashboards()}})});
this.del("/graphs/dashboards",function(e){this.confirmDelete("graph")&&$.ajax({type:"post",data:$(e.target).serialize()+"&_method=DELETE",url:"/graphs/dashboards",success:function(){e.app.refresh()}})});this.del("/graphs/:uuid",function(e){this.confirmDelete("graph")&&$.ajax({type:"post",data:"_method=DELETE",url:"/graphs/"+this.params.uuid,success:function(){e.app.refresh()}})});this.get("",function(){this.loadAndRenderDashboards()});this.post("/graphs",function(e){e.showSaving();(new Graphiti.Graph(this.getEditorJSON())).save(function(b){e.hideSaving();
Sammy.log("created",b);b.uuid&&e.redirect("/graphs/"+b.uuid)})});this.put("/graphs/options",function(){this.saveOptions(this.params.options)});this.post("/graphs/:uuid/snapshots",function(e){e.showSaving();(new Graphiti.Graph(this.getEditorJSON())).snapshot(this.params.uuid,function(b){e.hideSaving();Sammy.log("snapshotted",b);b&&e.buildSnapshotsDropdown([b])})});this.put("/graphs/:uuid",function(e){e.showSaving();(new Graphiti.Graph(this.getEditorJSON())).save(this.params.uuid,function(b){Sammy.log("updated",
b);e.hideSaving();e.redrawPreview()})});this.post("/graphs/dashboards",function(e){var b=$(this.target);$.post("/graphs/dashboards",b.serialize(),function(b){e.buildDashboardsDropdown(b.uuid)})});this.post("/dashboards",function(e){var b=$(this.target);$.post("/dashboards",b.serialize(),function(){b.find("input[type=text]").val("");e.buildDashboardsDropdown();e.trigger("toggle-dashboard-creation",{target:b.parents(".dashboard")})})});this.bind("toggle-dashboard-creation",function(e,b){var g=$(b.target),
k=g.find(".new-dashboard"),g=g.find(".add-to-dashboard");k.is(":visible")?(k.hide(),g.show()):(k.show(),g.hide())});this.registerShortcut("redraw-preview","g",function(){this.redrawPreview()});this.bind("run",function(){var e=this;this.bindEditorPanes();this.bindMetricsList();var b=function(){""==$(this).val().toString()?$(this).siblings(".save").attr("disabled","disabled"):$(this).siblings(".save").removeAttr("disabled")};$('select[name="dashboard"]').live("click",b).live("focus",b).live("blur",
b);$('.dashboard button[rel=create], .dashboard a[rel="cancel"]').live("click",function(b){b.preventDefault();e.trigger("toggle-dashboard-creation",{target:$(this).parents(".dashboard")})});$("#graph-actions").delegate(".redraw","click",function(b){b.preventDefault();e.redrawPreview()})})});$(function(){app.run()});Graphiti=window.Graphiti||{};
Graphiti.startRefresh=function(g){this.refreshTimer=setInterval(function(){$("#graphs-pane div.graph img.ggraph").each(function(){var e=$(this),b=e.attr("src");b.replace(/(^.*_timestamp_=).*/,function(b,e){return e+(new Date).getTime()+"000#.png"});e.attr("src",b)})},1E3*g)};Graphiti.stopRefresh=function(){clearInterval(this.refreshTimer)};
Graphiti.setRefresh=function(){$("#auto-refresh").prop("checked")?(console.log("starting"),this.startRefresh($("#auto-refresh").data("interval"))):(console.log("stop"),this.stopRefresh())};$(Graphiti.setRefresh.bind(Graphiti));$("#auto-refresh").change(Graphiti.setRefresh.bind(Graphiti));
